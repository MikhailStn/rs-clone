(()=>{"use strict";function e(e,t,n,i){const o=document.createElement(e);return t&&(o.className=t),n&&(o.id=n),i&&(o.innerText=i),o}function t(e,t,n,i){const o=document.createElement("input");return e&&o.setAttribute("type",`${e}`),t&&(o.className=t),n&&(o.id=n),i&&(o.innerText=i),o}function n(t,n,i,o,a,s){const r=e("div",a),c=e("input",s,n);c.type=t,c.name=i;const d=e("label","","",o);return d.setAttribute("for",n),r.append(c,d),r}var i=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const o=e("section","section-edit-services");let a="";function s(t,n,i){const o=e("div",`btn-dog-size ${i}`,t);return o.innerHTML=`<div class="div-btn-size ${i}">${t}<span class = "span-btn-size">${n}</span></div>`,o}function r(t,i){const o=e("div","pets-item-wrapper-service"),a=e("div","pets-img-wrapper-service");o.append(a);const s=e("img","img-pets-item-service");s.src=t,s.alt=i,a.append(s);const r=n("checkbox",i,i,i,"div-input-pets-service");return o.append(r),o}const c=()=>{if("accommodation"==a){const t=[],n=document.getElementById("dog"),i=document.getElementById("cat");n&&n.addEventListener("click",(()=>{if(n.checked)t.push("dog");else{const e=t.indexOf("dog");t.splice(e,1)}})),i&&i.addEventListener("click",(()=>{if(i.checked)t.push("cat");else{const e=t.indexOf("cat");t.splice(e,1)}}));const o={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",o).then((e=>e.json())).then((e=>{"dog"!=e.petsitterData.services.hotel.animals[0]&&"dog"!=e.petsitterData.services.hotel.animals[1]||(n.setAttribute("checked","true"),t.push("dog")),"cat"!=e.petsitterData.services.hotel.animals[0]&&"cat"!=e.petsitterData.services.hotel.animals[1]||(i.setAttribute("checked","true"),t.push("cat")),document.querySelector(".input-number-price").value=e.petsitterData.services.hotel.price})),document.querySelector(".btn-save-service-edit").addEventListener("click",(()=>{const n=document.querySelector(".input-number-price"),i={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),animals_hotel:t,price_hotel:n.value})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",i).then((e=>e.json())).then((t=>{const n=document.querySelector(".btn-save-price-wrapper"),i=e("p","comment-saved-settings");return i.textContent="Settings saved",i.setAttribute("style","margin-top: 5px"),null==n||n.append(i),setTimeout((()=>{null==n||n.removeChild(i)}),2e3),t}))}))}else if("walk"==a){const t=document.querySelector(".input-area-service");let n=[],i=[],o=[];const a=document.querySelector(".input-number-price"),s=document.getElementById("Micro"),r=document.getElementById("Small"),c=document.getElementById("Medium"),d=document.getElementById("Large"),p=document.getElementById("Giant"),l=document.getElementById("Puppy"),u=document.getElementById("Youngster"),h=document.getElementById("Adult"),v=document.getElementById("Senior"),m=document.getElementById("male"),g=document.getElementById("female"),f={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",f).then((e=>e.json())).then((e=>{e.petsitterData.services.walking.serviceArea&&(t.value=e.petsitterData.services.walking.serviceArea),n=e.petsitterData.services.walking.kindOfDogs,i=e.petsitterData.services.walking.ageOfDogs,o=e.petsitterData.services.walking.genderOfDogs,a.value=e.petsitterData.services.walking.price,n.includes("micro")&&(null==s||s.classList.add("active")),n.includes("small")&&(null==r||r.classList.add("active")),n.includes("medium")&&(null==c||c.classList.add("active")),n.includes("large")&&(null==d||d.classList.add("active")),n.includes("giant")&&(null==p||p.classList.add("active")),i.includes("puppy")&&(null==l||l.classList.add("active")),i.includes("youngster")&&(null==u||u.classList.add("active")),i.includes("adult")&&(null==h||h.classList.add("active")),i.includes("senior")&&(null==v||v.classList.add("active")),o.includes("male")&&(m.checked=!0),o.includes("female")&&(g.checked=!0),null==s||s.addEventListener("click",(()=>{if(s.classList.contains("active")){const e=n.indexOf("micro");n.splice(e,1)}else n.push("micro")})),null==r||r.addEventListener("click",(()=>{if(r.classList.contains("active")){const e=n.indexOf("small");n.splice(e,1)}else n.push("small")})),null==c||c.addEventListener("click",(()=>{if(c.classList.contains("active")){const e=n.indexOf("medium");n.splice(e,1)}else n.push("medium")})),null==d||d.addEventListener("click",(()=>{if(d.classList.contains("active")){const e=n.indexOf("large");n.splice(e,1)}else n.push("large")})),null==p||p.addEventListener("click",(()=>{if(p.classList.contains("active")){const e=n.indexOf("giant");n.splice(e,1)}else n.push("giant")})),null==l||l.addEventListener("click",(()=>{if(l.classList.contains("active")){const e=i.indexOf("puppy");i.splice(e,1)}else i.push("puppy")})),null==u||u.addEventListener("click",(()=>{if(u.classList.contains("active")){const e=i.indexOf("youngster");i.splice(e,1)}else i.push("youngster")})),null==h||h.addEventListener("click",(()=>{if(h.classList.contains("active")){const e=i.indexOf("adult");i.splice(e,1)}else i.push("adult")})),null==v||v.addEventListener("click",(()=>{if(v.classList.contains("active")){const e=i.indexOf("senior");i.splice(e,1)}else i.push("senior")})),null==m||m.addEventListener("click",(()=>{if(m.checked)o.push("male");else{const e=o.indexOf("male");o.splice(e,1)}})),null==g||g.addEventListener("click",(()=>{if(g.checked)o.push("female");else{const e=o.indexOf("female");o.splice(e,1)}}))}));const y=document.querySelector(".btn-save-service-edit");null==y||y.addEventListener("click",(()=>{const s={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),serviceArea_walking:t.value,kindOfDogs:n,ageOfDogs:i,genderOfDogs:o,price_walking:a.value})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",s).then((e=>e.json())).then((t=>{const n=document.querySelector(".btn-save-price-wrapper"),i=e("p","comment-saved-settings");return i.textContent="Settings saved",i.setAttribute("style","margin-top: 5px"),null==n||n.append(i),setTimeout((()=>{null==n||n.removeChild(i)}),2e3),t}))}))}else if("drop-in"==a){const t=[],n=document.getElementById("dog"),i=document.getElementById("cat");n&&n.addEventListener("click",(()=>{if(n.checked)t.push("dog");else{const e=t.indexOf("dog");t.splice(e,1)}})),i&&i.addEventListener("click",(()=>{if(i.checked)t.push("cat");else{const e=t.indexOf("cat");t.splice(e,1)}}));const o=document.querySelector(".input-area-service"),a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",a).then((e=>e.json())).then((e=>{"dog"!=e.petsitterData.services.homevisits.animals[0]&&"dog"!=e.petsitterData.services.homevisits.animals[1]||(n.setAttribute("checked","true"),t.push("dog")),"cat"!=e.petsitterData.services.homevisits.animals[0]&&"cat"!=e.petsitterData.services.homevisits.animals[1]||(i.setAttribute("checked","true"),t.push("cat")),document.querySelector(".input-number-price").value=e.petsitterData.services.homevisits.price,e.petsitterData.services.homevisits.serviceArea&&(o.value=e.petsitterData.services.homevisits.serviceArea)})),document.querySelector(".btn-save-service-edit").addEventListener("click",(()=>{const n=document.querySelector(".input-number-price"),i={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),animals_homevisits:t,price_homevisits:n.value,serviceArea_homevisits:o.value})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",i).then((e=>e.json())).then((t=>{const n=document.querySelector(".btn-save-price-wrapper"),i=e("p","comment-saved-settings");return i.textContent="Settings saved",i.setAttribute("style","margin-top: 5px"),null==n||n.append(i),setTimeout((()=>{null==n||n.removeChild(i)}),2e3),t}))}))}};function d(){return i(this,void 0,void 0,(function*(){return document.body.innerHTML="",function(t){i(this,void 0,void 0,(function*(){a=t,o.innerHTML="";const i=e("div","come-back-wrapper-service");o.append(i);const c=e("div","come-back-div-service","","â† Back to edit profile");i.append(c),c.addEventListener("click",(()=>{history.pushState("","","/petsitter/profile/basics"),window.dispatchEvent(new Event("popstate"))}));const d=e("div","section-service-text-title-wrapper");o.append(d);const p=e("div","service-text-title-wrapper");d.append(p);const l=e("h1","title-service-edit"),u=e("div","text-after-title-service");switch(p.append(l,u),t){case"accommodation":l.innerHTML="Accommodation: service settings",u.innerHTML="A service in which you take a pet under your roof for a specified period of time.";break;case"walk":l.innerHTML="Walk: Service Settings",u.innerHTML="A service in which you go to the customer and walk his dog in the area where he lives.";break;case"drop-in":l.innerHTML="Home visits: Service settings",u.innerHTML="30-minute visits to the owner's home to play with the animals, serve food, take a quick walk or clean the litter box."}if("drop-in"===t||"walk"===t){const t=e("div","area-of-service-wrapper");o.append(t);const n=e("h3","area-of-service-title","","Where do you want to provide the service?");t.append(n);const i=e("div","area-of-service-common-text","","Specify below which streets or neighborhoods you are willing to provide service within. Keep in mind that for this service you need to reach the client. The most efficient way to make money on the platform is to find pets a maximum of 2 - 3 kilometers away. This will save you time and maximize the number of pets you can service in a day.");t.append(i);const a=e("textarea","input-area-service","service-area");a.placeholder="Service area",a.maxLength=300,a.wrap="soft",t.append(a),a.addEventListener("keyup",(function(){this.scrollTop>0&&(this.style.height=this.scrollHeight+"px")}))}if("walk"===t&&function(){const t=e("div","view-of-dog-section-wrapper");o.append(t);const i=e("h3","area-of-service-title","","What kind of dogs do you want to walk?");t.append(i);const a=e("div","dog-size-title","","Size of the dog");t.append(a);const r=e("div","area-btn-dog-size");t.append(r);const c=s("Micro","< 5 kg"),d=s("Small","6 - 15 kg"),p=s("Medium","16 - 25 kg"),l=s("Large","26 - 35 kg"),u=s("Giant","> 36 kg");r.append(c,d,p,l,u),r.addEventListener("click",(e=>{const t=e.target;t instanceof HTMLElement&&t.classList.contains("btn-dog-size")&&(t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active"))}));const h=e("div","little-service-text","","Mark all sizes of dogs you can take for a walk");t.append(h);const v=e("div","dog-age-title","","Age of the dog");t.append(v);const m=e("div","area-btn-dog-age");t.append(m);const g=s("Puppy","< 1 year","age-btn"),f=s("Youngster","2 - 3 years","age-btn"),y=s("Adult","4 - 10 years","age-btn"),b=s("Senior","> 11 years","age-btn");m.append(g,f,y,b),m.addEventListener("click",(e=>{const t=e.target;t instanceof HTMLElement&&t.classList.contains("age-btn")&&(t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active"))}));const w=e("div","little-service-text","","Mark all the age ranges of dogs you can take for a walk");t.append(w);const k=e("div","dog-gender-title","","Gender of the dog");t.append(k);const x=e("div","gender-inputs-block");t.append(x);const L=n("checkbox","male","Male","Male","div-gender-inputs"),E=n("checkbox","female","Female","Female","div-gender-inputs");x.append(L,E)}(),"drop-in"===t||"accommodation"===t){let n;n="drop-in"===t?"What animals will I visit?":"What kind of animals will you accommodate?",function(t,n){const i=e("div","section-kind-of-pet-service");o.append(i),"accommodation"===n&&(i.style.marginTop="-110px");const a=e("h3","area-of-service-title","",t);i.append(a);const s=e("div","check-pet-box");i.append(s);const c=r("https://petsy.pl/_next/image/?url=%2Fimages%2Fpets%2FDOG.jpg&w=1920&q=75","dog"),d=r("https://petsy.pl/_next/image/?url=%2Fimages%2Fpets%2FCAT.jpg&w=1920&q=75","cat");s.append(c,d)}(n,t)}const h=e("div","price-section-service");o.append(h);const v=e("h3","area-of-service-title","","Pricing of your services");h.append(v);const m=e("div","common-price-text");switch(h.append(m),t){case"accommodation":m.innerHTML="The amount you get per night per week";break;case"walk":m.innerHTML="The amount you will receive for a standard walk (30 min)";break;case"drop-in":m.innerHTML="The amount you will receive per visit (30 min)"}const g=e("div","input-text-service-wrapper-price");h.append(g);const f=e("input","input-number-price",`price-${t}`);f.type="number",f.min="0",g.append(f);const y=e("div","currency-text-price","","byn / ");g.append(y);const b=e("span","span-currency-price");switch(y.append(b),t){case"accommodation":b.innerHTML="overnight stay during the week";break;case"walk":b.innerHTML="walk";break;case"drop-in":b.innerHTML="visit"}const w=e("div","btn-save-price-wrapper");o.append(w);const k=e("button","btn-save-service-edit",`btn-save-edit-${t}`,"Save");w.append(k)}))}(window.location.pathname.split("/")[5]),document.body.append(o),document.body}))}setTimeout(c,100);var p=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const l=()=>p(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("curr-user-id"),t={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:e})},n=yield fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",t);return{item:yield n.json()}})),u=e=>p(void 0,void 0,void 0,(function*(){const t={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:e})},n=yield fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",t);return{item:yield n.json()}}));var h=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const v=e("div","section-pets-add");function m(){return h(this,void 0,void 0,(function*(){return document.body.innerHTML="",yield function(){return h(this,void 0,void 0,(function*(){const t={petId:"",name:"",type:"",gender:"",breed:"",size:"",age:"",avatarPath:"",about:"",other:{neutered:"false",canBeInHerd:"false",hasMotionSickness:"false",takesMedication:"false",isAgressive:"false",isExcitable:"false",isTimid:"false",tendsToRunAway:"false",hasVaccinationBoolket:"false",withYellowRibbon:"false",inMidstOfHeat:"false",defecatesAtHome:"false",arr:[]}};t.petId=`${localStorage.getItem("curr-user-id")}__${(()=>{const e="abcdefghijklmnopqrstuvwxyz";let t="";for(;t.length<2;)t+=e[Math.floor(Math.random()*e.length)];const n=Math.floor(1e3*Math.random())+1;let i="";for(;i.length<2;)i+=e[Math.floor(Math.random()*e.length)];return`${t+n+i}`})()}`,v.innerHTML="";const i=e("div","come-back-wrapper-service");v.append(i);const o=e("div","come-back-div-service","","â† Back home");i.append(o),o.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));const a=e("div","section-service-text-title-wrapper add-pets");v.append(a);const r=e("div","service-text-title-wrapper");a.append(r);const c=e("h1","title-service-edit pets-add-title","","Add your pet");r.append(c);const d=e("div","section-kind-of-pet-service pets-add-block");v.append(d);const p=e("input","input-pets-name input-pets","pet-name");p.type="text",p.placeholder="Name",p.setAttribute("required",""),p.addEventListener("input",(()=>{t.name=`${p.value}`}));const u=e("div","mandatory-text-pet","","* Required field");d.append(p,u);const m=e("fieldset","additional-qualification-block cat-or-dog-fieldset"),g=e("div","mandatory-text-pet","","* Required field");d.append(m,g);const f=e("div","pets-item-wrapper-service div-input-cat-or-dog"),y=e("div","pets-item-wrapper-service div-input-cat-or-dog");m.append(f,y);const b=e("div","pets-img-wrapper-service");f.append(b);const w=e("img","img-pets-item-service");w.src="https://petsy.pl/_next/image/?url=%2Fimages%2Fpets%2FDOG.jpg&w=1920&q=75",w.alt="Dog",b.append(w);const k=e("div","pets-img-wrapper-service");y.append(k);const x=e("img","img-pets-item-service");x.src="https://petsy.pl/_next/image/?url=%2Fimages%2Fpets%2FCAT.jpg&w=1920&q=75",x.alt="Cat",k.append(x);const L=e("input","input-pets","dog");L.type="radio",L.name="kind-of-pet",L.value="Dog",L.setAttribute("required",""),L.addEventListener("click",(()=>{t.type="Dog"}));const E=e("label","","","Dog");E.setAttribute("for","dog"),f.append(L,E);const A=e("input","input-pets","cat");A.type="radio",A.name="kind-of-pet",A.value="Cat",A.addEventListener("click",(()=>{t.type="Cat"}));const T=e("label","","","Cat");T.setAttribute("for","cat"),y.append(A,T);const S=e("div","dog-gender-title cat-or-dog-gender","","Gender of the Pet");d.append(S);const M=e("div","gender-inputs-block");d.append(M);const C=n("radio","male","gender-pet","Male","div-gender-inputs","input-pets");C.addEventListener("click",(()=>{t.gender="Male"}));const H=n("radio","female","gender-pet","Female","div-gender-inputs","input-pets");H.addEventListener("click",(()=>{t.gender="Female"}));const D=e("div","mandatory-text-pet","","* Required field");M.append(C,H),d.append(D);const O=e("input","input-breed-of-pets input-pets","pets-breed");O.type="text",O.placeholder="Breed of animal",O.setAttribute("required",""),O.addEventListener("input",(()=>{t.breed=`${O.value}`}));const I=e("div","mandatory-text-pet","","* Required field");d.append(O,I);const P=e("div","dog-size-title dog-size-pet","","Size of the pet");d.append(P);const N=e("div","area-btn-dog-size");d.append(N);const $=s("Micro","< 5 kg","dog-size");$.addEventListener("click",(()=>{t.size="Micro"}));const q=s("Small","6 - 15 kg","dog-size");q.addEventListener("click",(()=>{t.size="Small"}));const F=s("Medium","16 - 25 kg","dog-size");F.addEventListener("click",(()=>{t.size="Medium"}));const j=s("Large","26 - 35 kg","dog-size");j.addEventListener("click",(()=>{t.size="Large"}));const _=s("Giant","> 36 kg","dog-size");_.addEventListener("click",(()=>{t.size="Giant"})),N.append($,q,F,j,_),N.addEventListener("click",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.classList.contains("dog-size")){const e=document.querySelectorAll(".dog-size");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.classList.add("active")}}));const B=e("div","dog-age-title pet-age-title","","Age of the pet");d.append(B);const W=e("div","area-btn-dog-age");d.append(W);const z=s("Puppy","< 1 year","age-btn");z.addEventListener("click",(()=>{t.age="Puppy"}));const J=s("Youngster","2 - 3 years","age-btn");J.addEventListener("click",(()=>{t.age="Youngster"}));const Y=s("Adult","4 - 10 years","age-btn");Y.addEventListener("click",(()=>{t.age="Adult"}));const R=s("Senior","> 11 years","age-btn");R.addEventListener("click",(()=>{t.age="Senior"})),W.append(z,J,Y,R),W.addEventListener("click",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.classList.contains("age-btn")){const e=document.querySelectorAll(".age-btn");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.classList.add("active")}}));const G=e("fieldset","other-info-pet-add-field");d.append(G);const V=e("legend","other-info-pet-title","","Other important information");G.append(V);const K=n("checkbox","neutered-castrated","Neutered/castrated","Neutered/castrated","div-other-info-pets");K.addEventListener("input",(()=>{if("true"==t.other.neutered){t.other.neutered="false";const e=t.other.arr.indexOf("Neutered/castrated");t.other.arr.splice(e,1)}else t.other.neutered="true",t.other.arr.push("Neutered/castrated")}));const U=n("checkbox","cannot-be-in-the-herd","The only one/cannot be in the herd","The only one/cannot be in the herd","div-other-info-pets");U.addEventListener("input",(()=>{if("true"==t.other.canBeInHerd){t.other.canBeInHerd="false";const e=t.other.arr.indexOf("The only one/cannot be in the herd");t.other.arr.splice(e,1)}else t.other.canBeInHerd="true",t.other.arr.push("The only one/cannot be in the herd")}));const Q=n("checkbox","has-motion-sickness","He has motion sickness","He has motion sickness","div-other-info-pets");Q.addEventListener("input",(()=>{if("true"==t.other.hasMotionSickness){t.other.hasMotionSickness="false";const e=t.other.arr.indexOf("Has motion sickness");t.other.arr.splice(e,1)}else t.other.hasMotionSickness="true",t.other.arr.push("Has motion sickness")}));const Z=n("checkbox","takes-medication","Takes medication","Takes medication","div-other-info-pets");Z.addEventListener("input",(()=>{if("true"==t.other.takesMedication){t.other.takesMedication="false";const e=t.other.arr.indexOf("Takes medication");t.other.arr.splice(e,1)}else t.other.takesMedication="true",t.other.arr.push("Takes medication")}));const X=n("checkbox","it-is-aggressive","It is aggressive","It is aggressive","div-other-info-pets");X.addEventListener("input",(()=>{if("true"==t.other.isAgressive){t.other.isAgressive="false";const e=t.other.arr.indexOf("It is aggressive");t.other.arr.splice(e,1)}else t.other.isAgressive="true",t.other.arr.push("It is aggressive")}));const ee=n("checkbox","excessively-excitable","He is excessively excitable","He is excessively excitable","div-other-info-pets");ee.addEventListener("input",(()=>{if("true"==t.other.isExcitable){t.other.isExcitable="false";const e=t.other.arr.indexOf("Excessively excitable");t.other.arr.splice(e,1)}else t.other.isExcitable="true",t.other.arr.push("Excessively excitable")}));const te=n("checkbox","timid","He is timid","He is timid","div-other-info-pets");te.addEventListener("input",(()=>{if("true"==t.other.isTimid){t.other.isTimid="false";const e=t.other.arr.indexOf("He is timid");t.other.arr.splice(e,1)}else t.other.isTimid="true",t.other.arr.push("He is timid")}));const ne=n("checkbox","tends-to-run-away","He tends to run away","He tends to run away","div-other-info-pets");ne.addEventListener("input",(()=>{if("true"==t.other.tendsToRunAway){t.other.tendsToRunAway="false";const e=t.other.arr.indexOf("Tends to run away");t.other.arr.splice(e,1)}else t.other.tendsToRunAway="true",t.other.arr.push("Tends to run away")}));const ie=n("checkbox","has-vaccination-booklet","Has a vaccination booklet","Has a vaccination booklet","div-other-info-pets");ie.addEventListener("input",(()=>{if("true"==t.other.hasVaccinationBoolket){t.other.hasVaccinationBoolket="false";const e=t.other.arr.indexOf("Has a vaccination booklet");t.other.arr.splice(e,1)}else t.other.hasVaccinationBoolket="true",t.other.arr.push("Has a vaccination booklet")}));const oe=n("checkbox","dog-with-a-yellow-ribbon","Dog with a yellow ribbon","Dog with a yellow ribbon","div-other-info-pets");oe.addEventListener("input",(()=>{if("true"==t.other.withYellowRibbon){t.other.withYellowRibbon="false";const e=t.other.arr.indexOf("Dog with a yellow ribbon");t.other.arr.splice(e,1)}else t.other.withYellowRibbon="true",t.other.arr.push("Dog with a yellow ribbon")}));const ae=n("checkbox","in-the-midst-of-heat","In the midst of heat","In the midst of heat","div-other-info-pets");ae.addEventListener("input",(()=>{if("true"==t.other.inMidstOfHeat){t.other.inMidstOfHeat="false";const e=t.other.arr.indexOf("In the midst of heat");t.other.arr.splice(e,1)}else t.other.inMidstOfHeat="true",t.other.arr.push("In the midst of heat")}));const se=n("checkbox","defecates-at-home","Defecates at home","Defecates at home","div-other-info-pets");se.addEventListener("input",(()=>{if("true"==t.other.defecatesAtHome){t.other.defecatesAtHome="false";const e=t.other.arr.indexOf("Defecates at home");t.other.arr.splice(e,1)}else t.other.defecatesAtHome="true",t.other.arr.push("Defecates at home")})),G.append(K,U,Q,Z,X,ee,te,ne,ie,oe,ae,se);const re=e("h4","temp-title pet-photo-title");re.textContent="Photo",re.setAttribute("style","margin-bottom: 0");const ce=e("div","photo-container");ce.setAttribute("style","background-image: url('../img/icons/photo.png')");const de=e("input","button-add-photo");de.type="file",de.accept=".png,.jpg,.jpeg",de.id="photo";const pe=e("button","button-confirm");pe.textContent="Confirm";const le=e("label","label-add-photo");le.setAttribute("for","photo"),le.textContent="Add photo",ce.append(de,le),d.append(re,ce),de.onchange=()=>{if(de.files){const e=new FormData;return e.append("image",de.files[0],de.files[0].name),fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/register/add-photo",{method:"POST",body:e}).then((e=>e.json())).then((e=>{ce.setAttribute("style",`background-image: url('https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}'); background-blend-mode:normal`),t.avatarPath=`https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}`,pe.setAttribute("style","pointer-events:all")})),de.files[0]}};const ue=e("textarea","input-text-about-pet input-pets","text-about-pet");ue.placeholder="Tell us about your pet",ue.setAttribute("required",""),ue.minLength=50,ue.maxLength=1e3,ue.wrap="soft",ue.addEventListener("input",(()=>{t.about=`${ue.value}`}));const he=e("div","count-motto-profile","","0/1000");ue.addEventListener("input",(()=>{he.innerHTML="",he.innerHTML=`${ue.value.length}/1000`}));const ve=e("div","mandatory-text-pet","","* Minimum number of characters: 50"),me=e("div","mandatory-text-pet","","* Required field");d.append(ue,he,ve,me);const ge=e("div","btn-save-wrapper");d.append(ge);const fe=e("div","error-text-pets"),ye=e("div","save-text-pets"),be=e("button","btn-save-my-home","btn-save-pet","Save");ge.append(ye,fe,be);const we=d.querySelectorAll(".input-pets"),ke=d.querySelectorAll(".mandatory-text-pet");be.addEventListener("click",(()=>h(this,void 0,void 0,(function*(){console.log(t);let e=0;if(we.forEach((t=>{t instanceof HTMLInputElement&&(t.checkValidity()?e+=0:e+=1)})),(e>0&&ue.value.length<50||0===e&&ue.value.length<50)&&(ke.forEach((e=>{e instanceof HTMLElement&&(e.style.color="#f04a2d")})),ye.innerHTML="",fe.innerHTML="",fe.innerHTML="Please fill in all required fields"),0===e&&ue.value.length>=50){ke.forEach((e=>{e instanceof HTMLElement&&(e.style.color="#696869")})),fe.innerHTML="",ye.innerHTML="",ye.innerHTML="Your information is saved";const e={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),petsObj:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",e).then((e=>e.json())).then((e=>{console.log(e)})),"OWNER"===(yield l()).item.role?(history.pushState("","","/owner/pets"),window.dispatchEvent(new Event("popstate"))):(history.pushState("","","/petsitter/profile/basics"),window.dispatchEvent(new Event("popstate")))}}))))}))}(),document.body.append(v),document.body}))}const g=[{src:"https://petsy.pl/_next/image/?url=https%3A%2F%2Fpetsy-storage.storage.googleapis.com%2Fusers%2F61%2F6rhNADAhFm9Q_440x440.jpg&w=1080&q=100",firstName:"Anna",lastName:"Dziurzynska",role:"Professional petsitter, Minsk",review:"My dog spent one night at Ania's, came back very satisfied. We had contact all the time, very professional approach. I highly recommend, I myself will definitely stay in touch with Ania when I need care for my Dollar :).",reviewOwner:"Aleksandra - Owner"},{src:"https://storage.googleapis.com/petsy-storage/users/90/bSlU-AqjPlNB_440x440.jpeg",firstName:"Beata",lastName:"Smolik",role:"Professional petsitter, Grodno",review:"A walk on the 6th! Beata is a super cool petsitter, and what turned out to be an expert on Goldens :)) She took our scrapyard for a walk, at first he panicked, but she managed bravely and the dog came back happy. Evidently he liked her, I recommend to everyone",reviewOwner:"Margaret - Owner"},{src:"https://petsy.pl/_next/image/?url=https%3A%2F%2Fpetsy-storage.storage.googleapis.com%2Fusers%2F35%2FV5rD7Orc9Q4N_440x440.JPG&w=1080&q=100",firstName:"Julia",lastName:"Guzowska",role:"Professional petsitter, Minsk",review:"A walk for a high-five! Julia has a hand with animals. The dog came back run out, happy, relaxed, went without screeching (which doesn't happen to him), then for three more days on the walk he told me that at Julia's was better and I should call for good advice :).",reviewOwner:"Michail - Owner"},{src:"https://petsy-storage.storage.googleapis.com/users/71/poEtzAoU-ZIE_440x440.JPG",firstName:"Julia",lastName:"Grzelak",role:"Professional petsitter, Brest",review:"I have no reservations at all. Great care and fantastic contact, and most of all the dog happy :) We will definitely use Julia's help more than once!",reviewOwner:"Magdalena - Owner"},{src:"https://storage.googleapis.com/petsy-storage/users/268/3BuWQE7K0ATb_440x440.JPG",firstName:"Dominik",lastName:"Bylinski",role:"Professional petsitter, Vitebsk",review:"Dominik is highly recommendable as possible. He is responsible, has an approach to animals and what was important to me - he lives in a beautiful and peaceful area. We have established a permanent cooperation and this is probably the best recommendation.",reviewOwner:"Kamilla - Owner"},{src:"https://petsy-storage.storage.googleapis.com/users/10/nF7q1B7XWDYQ_440x440.jpeg",firstName:"Olga",lastName:"Pietruszewska",role:"Professional petsitter, Minsk",review:"Thank you very much for the super care for a whole week of our unruly dog ( young golden ). In addition, Ms. Olga practiced paging which we actually notice on walks. Super! We heartily recommend.",reviewOwner:"Aleksandra - Owner"}];var f=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const y=e("div","section-menu-field");function b(t,n,i){const o=e("div","block-menu-wrapper"),a=new Image;a.src=t,a.className=`block-menu-svg ${i}`,o.append(a);const s=e("div","text-block-menu","",`${n}`);return o.append(s),o}function w(){return f(this,void 0,void 0,(function*(){return localStorage.getItem("curr-user-id")?(y.innerHTML="",function(){f(this,void 0,void 0,(function*(){y.innerHTML="";const t=(yield l()).item;console.log("userInfo",t);const n=e("div","section-menu");y.append(n);const i=e("div","overlay");document.body.append(i),i.addEventListener("click",(()=>{y.classList.remove("active"),document.body.style.overflow="",i.classList.remove("active")}));const o=e("div","role-block-menu-identity");n.append(o);const a=e("div","img-menu-role-wrapper");o.append(a);const s=new Image;""===t.avatarPath||void 0===t.avatarPath?s.src="img/personLogo.svg":(s.src=t.avatarPath,s.style.width="100%",s.style.height="100%",s.style.objectFit="cover",s.style.borderRadius="50%"),s.className="img-role-menu",a.append(s);const r=e("div","role-text-wrapper-menu");o.append(r);const c=e("div","text-name-menu-role","",`${t.firstName} ${t.lastName}`);r.append(c);const d=e("div","text-email-menu-role","",`${t.email}`);r.append(d);const p=b("img/order.svg","My orders");if(n.append(p),p.addEventListener("click",(()=>{"OWNER"===t.role?history.pushState("","","/owner/orders"):history.pushState("","","/petsitter/orders"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")})),"OWNER"===t.role){const e=b("img/loupeDark2.svg","Find a petsitter","loupe-menu");n.append(e),e.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}));const t=b("img/paw.svg","My pets");n.append(t),t.addEventListener("click",(()=>{history.pushState("","","/owner/pets"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}))}if("PETSITTER"===t.role){const e=b("img/calendar2.svg","My calendar");n.append(e),e.addEventListener("click",(()=>{history.pushState("","","/petsitter/calendar"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}));const t=b("img/profileLogo2.svg","My Profile");n.append(t),t.addEventListener("click",(()=>{history.pushState("","","/petsitter/profile/basics"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}));const i=b("img/star.svg","My reviews");n.append(i),i.addEventListener("click",(()=>{history.pushState("","","/petsitter/reviews/"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}))}const u=b("img/tool.svg","Account settings");n.append(u),u.addEventListener("click",(()=>{"OWNER"===t.role?history.pushState("","","/owner/settings/personal-data"):history.pushState("","","/petsitter/settings/personal-data"),window.dispatchEvent(new Event("popstate")),document.body.style.overflow="",y.classList.remove("active")}));const h=e("button","btn-log-out-menu","btn-log-out-menu","Log Out");return n.append(h),h.addEventListener("click",(e=>{e.preventDefault(),localStorage.clear(),y.classList.remove("active"),document.body.style.overflow="",history.pushState("","",""),window.dispatchEvent(new Event("popstate"))})),n}))}(),y):(y.innerHTML="",function(){y.innerHTML="";const t=e("div","section-menu");y.append(t);const n=e("div","overlay");document.body.append(n),n.addEventListener("click",(()=>{y.classList.remove("active"),document.body.style.overflow="",n.classList.remove("active")}));const i=e("div","btn-create-acc-menu-wrapper"),o=e("button","btn-create-acc-menu","","Create account");t.append(i),i.append(o),o.addEventListener("click",(e=>{e.preventDefault(),history.pushState("","","/auth/register/owner"),window.dispatchEvent(new Event("popstate")),y.classList.remove("active"),document.body.style.overflow=""}));const a=b("img/loupeDark2.svg","Find a petsitter","loupe-menu");t.append(a),a.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate")),y.classList.remove("active"),document.body.style.overflow=""}));const s=b("img/paw.svg","Become a petsitter","");t.append(s),s.addEventListener("click",(()=>{history.pushState("","","/petsitter"),window.dispatchEvent(new Event("popstate")),y.classList.remove("active"),document.body.style.overflow=""}));const r=b("img/exitLogIn.svg","Log in","");t.append(r),r.addEventListener("click",(()=>{history.pushState("","","/auth/login"),window.dispatchEvent(new Event("popstate")),y.classList.remove("active"),document.body.style.overflow=""}))}(),y)}))}var k=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};function x(t){return k(this,void 0,void 0,(function*(){const n=e("header","header header2"),i=e("div","head"),o=e("button","btn menu first","menu"),a=yield w();document.body.append(a),o.addEventListener("click",(()=>{var e,t;null===(e=document.querySelector(".section-menu-field"))||void 0===e||e.classList.add("active"),null===(t=document.querySelector(".overlay"))||void 0===t||t.classList.add("active")}));const s=new Image;s.src="img/line.svg";const r=e("a","first","pets","Petsi");r.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));const c=e("div","notification first","",""),d=e("button","btn","notification"),p=new Image;p.src="img/notification.svg",p.src="img/notification.svg";const l=e("span","","","1");t.append(n),n.append(i),i.append(o),i.append(r),i.append(c),o.append(s),c.append(d),d.append(p),c.append(l)}))}function L(t){return k(this,void 0,void 0,(function*(){const n=e("header","header header2"),i=e("div","head"),o=e("button","btn menu first","menu"),a=yield w();document.body.append(a),o.addEventListener("click",(()=>{var e,t;null===(e=document.querySelector(".section-menu-field"))||void 0===e||e.classList.add("active"),null===(t=document.querySelector(".overlay"))||void 0===t||t.classList.add("active")}));const s=new Image;s.src="img/line.svg";const r=e("a","first","pets","Petsi");r.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));const c=e("button","btn rectangle","btnFind","Find a pet sitter");c.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));const d=e("button","btn rectangle","btnBecome","Become a pet sitter");d.addEventListener("click",(()=>{history.pushState("","","/petsitter"),window.dispatchEvent(new Event("popstate"))}));const p=e("div","btnRight"),l=e("button","btn rectangle","Login","LOG IN");l.addEventListener("click",(()=>{history.pushState("","","/auth/login"),window.dispatchEvent(new Event("popstate"))}));const u=e("button","btn rectangle btn-create-acc","CreateAccount","Create Account"),h=window.location.pathname,v=h.split("/")[1],m=h.split("/")[3];console.log("role1",v),u.addEventListener("click",(()=>{"petsitter"===v||"petsitter"===m?(history.pushState("","","/auth/register/petsitter"),window.dispatchEvent(new Event("popstate"))):(history.pushState("","","/auth/register/owner"),window.dispatchEvent(new Event("popstate")))})),t.append(n),n.append(i),o.append(s),i.append(o),i.append(r),i.append(c),i.append(d),i.append(p),p.append(l),p.append(u)}))}function E(t){return k(this,void 0,void 0,(function*(){const n=e("header","header header2"),i=e("div","head"),o=e("button","btn menu first","menu"),a=yield w();document.body.append(a),o.addEventListener("click",(()=>{var e,t;null===(e=document.querySelector(".section-menu-field"))||void 0===e||e.classList.add("active"),null===(t=document.querySelector(".overlay"))||void 0===t||t.classList.add("active")}));const s=new Image;s.src="img/line.svg";const r=e("a","first","pets","Petsi");r.addEventListener("click",(()=>{history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));const c=e("div","notification first","",""),d=e("button","btn ","notification"),p=new Image;p.src="img/notification.svg";const l=e("span","","","1");l.style.display="none",t.append(n),n.append(i),i.append(o),i.append(r),i.append(c),o.append(s),c.append(d),d.append(p),c.append(l)}))}function A(t){const n=e("footer","footer wrapper"),i=e("div","foot"),o=e("a");o.href="https://rs.school/js/";const a=e("div","logoRS"),s=new Image;s.src="img/rs_school_js.svg";const r=e("div","githubs"),c=e("div","year-footer","","2023"),d=e("a");d.href="https://github.com/hannarim-23";const p=new Image;p.src="img/github_m.svg";const l=e("a");l.href="https://github.com/MikhailStn";const u=new Image;u.src="img/github_w.svg";const h=e("a");h.href="https://github.com/lisadobruk";const v=new Image;v.src="img/github_m.svg",t.append(n),n.append(i),i.append(a),i.append(c),i.append(r),a.append(o),o.append(s),r.append(d),r.append(l),r.append(h),d.append(p),l.append(u),h.append(v)}const T=e("section","section-common-petsitters");function S(t,n,i,o){const a=e("div","petsit-main-page-block");o&&a.classList.add(o);const s=e("div","petsit-text-block");a.append(s);const r=e("h5","little-title-petsit-block","","PETSI");s.append(r);const c=e("h2","petsit-title-block","",t);s.append(c);const d=e("div","common-text-petsit-block","",n);s.append(d);const p=M();s.append(p);const l=e("div","block-box-img-petsit-main");a.append(l);const u=e("img","img-petsit-block");return l.append(u),u instanceof HTMLImageElement&&(u.src=i,u.alt="people with pet"),a}function M(){const t=e("a","btn-create-account","","Create account");return t instanceof HTMLAnchorElement&&(t.href="/auth/register/petsitter"),t}function C(t){const n=e("div","slider-petsit-item"),i=e("div","img-btn-slider-container");n.append(i);const o=e("div","img-slider-item-container"),a=e("img","img-petsit-slider-item");a instanceof HTMLImageElement&&(a.src=g[t].src,a.alt=`Photo of ${g[t].lastName} ${g[t].firstName}`),i.append(o),o.append(a);const s=function(){const t=e("a","btn-view-profile","","View profile");return t instanceof HTMLAnchorElement&&(t.href="/p/"),t}();i.append(s);const r=e("div","text-box-slider-item");n.append(r);const c=e("h4","name-petsit-slider","",`${g[t].firstName}`);r.append(c);const d=e("div","role-petsit-slider","",`${g[t].role}`);r.append(d);const p=e("div","stars-slider-container","","â˜…â˜…â˜…â˜…â˜…");r.append(p);const l=e("div","review-slider-item","",`${g[t].review}`);r.append(l);const u=e("div","review-owner-text","",`${g[t].reviewOwner}`);return r.append(u),n}function H(){return document.body.innerHTML="",L(document.body),function(){T.innerHTML="";const t=e("div","top-block-wrapper"),n=e("section","top-block-petsitter");T.append(t),t.append(n);const i=e("div","top-text-petsit-container");n.append(i);const o=e("h2","title-top-petsit-block","","Become a petsitter and earn money doing what you love!");i.append(o);const a=e("div","top-text-petsit","","Petsi is a platform for people who love animals. We support You and help you develop Your business. Become a professional petsitter together with us!");o.after(a);const s=M();a.after(s);const r=e("div","top-image-petsit-box");n.append(r);const c=e("img","img-top-petsit");r.append(c),c instanceof HTMLImageElement&&(c.src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fpetsitter_hero.jpg&w=1920&q=75",c.alt="girl and dog");const d=S("Your business card","Petsi's pet sitter profile is your public business card and will help you establish credibility as a pet sitter in the eyes of pet owners.","https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fpetsitter_profile.jpg&w=1920&q=75","block-revert");T.append(d);const p=S("Transparent billing rules","Petsi is completely free for owners and for caregivers. We only make a living from commission on orders, which we then use to develop the portal and promote the petsitter profession, which will translate into the number of orders you acquire.","https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fpetsitter_accounting.jpg&w=1920&q=75");T.append(p);const l=S("Business support","We do everything to help you grow your business. Extensive panel, training, simple registration and verification. Take care of your pets and we'll take care of everything around you!","https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fpetsitter_support.jpg&w=1920&q=75","block-revert");T.append(l);const u=function(){let t=0;const n=e("section","slider-petsit-container"),i=e("div","slider-petsit-wrapper");n.append(i);const o=e("div","slider-item-wrapper");i.append(o);const a=C(t);o.append(a),setInterval((function(){t>g.length-1&&(t=0),o.innerHTML="";const e=C(t);o.append(e),t+=1}),5e3);const s=e("div","pagination-petsit-slider-container");i.append(s);const r=e("div","pagination-btn-petsit","","ðŸ ”");s.append(r),r.addEventListener("click",(()=>{t-=1,t<0&&(t=g.length-1),o.innerHTML="";const e=C(t);o.append(e)}));const c=e("div","pagination-btn-petsit","","ðŸ –");return s.append(c),c.addEventListener("click",(()=>{t+=1,t>g.length-1&&(t=0),o.innerHTML="";const e=C(t);o.append(e)})),n}();T.append(u);const h=function(){const t=e("section","section-contact-petsit-main-page"),n=e("div","contact-petsitter-wrapper-main-page");t.append(n);const i=e("div","input-text-contact-petsit-container");n.append(i);const o=e("h2","petsit-title-block","","Let's stay in touch!");i.append(o);const a=e("div","common-text-petsit-block","","Sign up and receive once a month tips, discounts and news straight from us");o.after(a);const s=e("div","input-contact-petsit-main-wrapper");a.after(s);const r=e("input","input-contact-email");s.append(r);const c=e("button","btn-sign-up-contact","","Subscribe");r.after(c);const d=e("p","email-text-error-petsit-contact-main","","Incorrect email format");r.after(d),r instanceof HTMLInputElement&&(r.type="email",r.placeholder="E-mail",r.setAttribute("required",""),c.addEventListener("click",(()=>{r.checkValidity()||d.classList.contains("active")?r.checkValidity()&&d.classList.contains("active")&&(d.classList.remove("active"),r.value=""):d.classList.add("active")})));const p=e("div","img-contact-main-petsit-wrapper");n.append(p);const l=e("img","img-contact-main-petsit");return p.append(l),l instanceof HTMLImageElement&&(l.src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fpetsitter_newsletter.jpg&w=1200&q=75",l.alt="cat with gadget"),t}();T.append(h)}(),document.body.append(T),A(T),document.body}const D=e("section","login-section");function O(){return document.body.innerHTML="",function(){D.innerHTML="";const t=e("div","login-layout");D.append(t);const n=e("div","login-block-wrapper");t.append(n);const i=e("h1","login-title","","Petsi");n.append(i);const o=e("div","text-after-title-login","","Welcome back!");n.append(o);const a=e("form","form-login","form-login");n.append(a);const s=e("input","input-login-email input-login"),r=e("input","input-login-password input-login");a.append(s),a.append(r);const c=e("p","email-text-error-login","email-error","Incorrect email format");s.after(c);const d=e("p","password-text-error-login","password-error","Enter your password");r.after(d);const p=e("button","btn-login","","Log in");p instanceof HTMLButtonElement&&(p.type="submit"),a.append(p),p.addEventListener("click",(t=>{t.preventDefault();const n={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:`${s.value}`,password:`${r.value}`})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/login",n).then((t=>{if(console.log(t.status),200==t.status)return t.json();{const t=e("div","error-text-login","","Something went wrong, try again");return document.body.append(t),void setTimeout((()=>{document.body.removeChild(t)}),2e3)}})).then((e=>{var t;console.log(e),localStorage.setItem("curr-user-id",`${e.id}`),console.log(localStorage.getItem("curr-user-id")),null===(t=document.querySelector(".section-menu-field"))||void 0===t||t.classList.remove("active"),history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}))})),s.type="email",s.name="email",s.placeholder="E-mail",s.setAttribute("required",""),s.addEventListener("input",(()=>{s.checkValidity()&&c.classList.contains("active")&&c.classList.remove("active")})),p.addEventListener("click",(()=>{s.checkValidity()||c.classList.contains("active")?s.checkValidity()&&c.classList.contains("active")&&(c.classList.remove("active"),s.value=""):c.classList.add("active")})),r.type="password",r.name="password",r.setAttribute("required",""),r.placeholder="Password",r.addEventListener("input",(()=>{r.checkValidity()&&d.classList.contains("active")&&d.classList.remove("active")})),p.addEventListener("click",(()=>{r.checkValidity()||d.classList.contains("active")?r.checkValidity()&&d.classList.contains("active")&&d.classList.remove("active"):d.classList.add("active")}));const l=e("div","registration-text-login");l.innerHTML='<p>Would you like to join Petsi? <a class = "link-for-registr-in-login" href = "/auth/register/owner">Create an account</a></p>',n.append(l)}(),document.body.append(D)}function I(){const t=document.querySelector(".main");if(t){t.innerHTML="";const n=e("div","","","AUTH/REG/PETSIT");return null==t?void 0:t.append(n)}}const P=e("section","registration-section");function N(e){const t=e.target;t instanceof HTMLInputElement&&!t.checkValidity()?t.nextElementSibling&&t.nextElementSibling.classList.add("active"):t instanceof HTMLInputElement&&t.nextElementSibling&&t.nextElementSibling.classList.remove("active")}function $(){return document.body.innerHTML="",L(document.body),function(t){P.innerHTML="";const n=e("div","registration-block-wrapper");P.append(n);const i=e("div","img-registration-wrapper"),o=e("img","img-registration");o instanceof HTMLImageElement&&(o.src="owner"===t?"https://petsy.pl/_next/image/?url=%2Fimages%2Fregister_owner.jpg&w=1920&q=75":"https://petsy.pl/_next/image/?url=%2Fimages%2Fregister_petsitter.jpg&w=1920&q=75",o.alt="owner"===t?"girl with cat":"white dog"),n.append(i),i.append(o);const a=e("div","block-inputs-text-registration");n.append(a);const s=e("a","link-on-main-from-registration","","Back to home page");a.append(s);const r=e("h1","text-for-registration-role");r.innerHTML="owner"===t?"Time for you and the best care for your pet":"Become a petsitter. Earn by spending time among animals",a.append(r);const c=e("div","text-registration-as","","Register as:");a.append(c);const d=e("div","block-link-role-registration");a.append(d);const p=e("a","","","Pet owner");p.className="owner"===t?"link-owner-registration active":"link-owner-registration",d.append(p);const l=e("a","link-petsitter-registration","","Petsitter");l.className="owner"===t?"link-petsitter-registration":"link-petsitter-registration active",d.append(l),l instanceof HTMLAnchorElement&&p instanceof HTMLAnchorElement&&s instanceof HTMLAnchorElement&&(s.href="/",l.href="/auth/register/petsitter",p.href="/auth/register/owner");const u=e("form","registration-form",`registation-form-${t}`);a.append(u);const h=e("input","input-place-of-live input-registration","city"),v=e("datalist","","city-variable");v.innerHTML='<option value="Minsk"></option><option value="Brest"></option><option value="Vitebsk"></option><option value="Grodno"></option><option value="Gomel"></option><option value="Mogilev"></option>';const m=e("p","city-text-error-registration text-error-registration","city-error","Enter city from list");u.append(h),h.after(v),h.after(m),h.type="text",h.name="af2Km9q",h.placeholder="City",h.pattern="[Mm]insk|[Bb]rest|[Vv]itebsk|[Gg]rodno|[Gg]omel|[Mm]ogilev",h.setAttribute("list","city-variable"),h.setAttribute("autocomplete","off"),h.setAttribute("required",""),h.addEventListener("input",N);const g=e("div","block-names-inputs");u.append(g);const f=e("input","input-firstname input-registration","firstname"),y=e("p","first-name-text-error-registration text-error-registration","first-name-error","Enter your name");g.append(f),f.after(y),f.type="text",f.placeholder="Firstname",f.name="firstname",f.setAttribute("required",""),f.addEventListener("input",N);const b=e("input","input-lastname input-registration","lastname"),w=e("p","last-name-text-error-registration text-error-registration","last-name-error","Enter your lastname");g.append(b),b.after(w),b.type="text",b.placeholder="Lastname",b.name="lastname",b.setAttribute("required",""),b.addEventListener("input",N);const k=e("input","input-phone-number input-registration","phone-number"),x=e("p","phone-text-error-registration text-error-registration","phone-error","Enter your correct phone");u.append(k),k.after(x),k.type="text",k.placeholder='Phone number without "+"',k.name="phone",k.pattern="^[0-9]{9,}$",k.setAttribute("required",""),k.addEventListener("input",N);const L=e("input","input-email-registration input-registration","email"),E=e("p","email-error-registration text-error-registration","email-error-registration","Enter your correct email");u.append(L),L.after(E),L.type="email",L.placeholder="E-mail",L.name="email",L.setAttribute("required",""),L.addEventListener("input",N);const A=e("input","input-password-registration input-registration","password"),T=e("p","password-error-registration text-error-registration","password-error-registration","Your password must be 4 to 10 characters long");u.append(A),A.after(T),A.type="password",A.placeholder="Password",A.name="password",A.pattern="^(.){4,10}$",A.setAttribute("required",""),A.addEventListener("input",N);const S=e("input","input-repeat-password-registration input-registration","repeat-password"),M=e("p","sec-passw-error-registration text-error-registration active","second-password-error","Your passwords don't match!");u.append(S),S.after(M);const C=e("button","btn-registration",`btn-registration-${t}`);S.type="password",S.placeholder="Repeat password",S.name="repeatPassword",S.pattern="^(.){4,10}$",S.setAttribute("required",""),C.addEventListener("click",(e=>{e.preventDefault(),A.value!==S.value?(e.preventDefault(),M.classList.remove("active")):M.classList.add("active")})),S.addEventListener("input",(()=>{A.value!==S.value?M.classList.remove("active"):M.classList.add("active")})),C.addEventListener("click",(()=>{let e="",t="";if("registration-pet-owner"==C.id?(e="https://rs-clone-api-production-3ab8.up.railway.app/auth/register/owner",t="OWNER"):"registration-petsitter"==C.id&&(e="https://rs-clone-api-production-3ab8.up.railway.app/auth/register/petsitter",t="PETSITTER"),console.log(e),A.value==S.value){const n={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({firstName:`${f.value}`,lastName:`${b.value}`,city:`${h.value}`,email:`${L.value}`,password:`${A.value}`,phone:Number(k.value),role:t,pets:[]})};fetch(`${e}`,n).then((e=>(console.log(e.status),200==e.status?e.json():void 0))).then((e=>{console.log(e),localStorage.setItem("curr-user-id",`${e.id}`),console.log(localStorage.getItem("curr-user-id")),"registration-petsitter"==C.id?document.location.href="/auth/register/form":(history.pushState("","",""),window.dispatchEvent(new Event("popstate")))}))}else console.log("ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚")})),"owner"===t?(C.innerHTML="Register as a pet owner",C.id="registration-pet-owner"):(C.innerHTML="Register as a petsitter",C.id="registration-petsitter"),u.append(C),C instanceof HTMLButtonElement&&(C.disabled=!0),u.addEventListener("input",(e=>{!function(e,t){if(e.target&&e.target instanceof HTMLInputElement){const n=e.target.form;if(n){const e=n.checkValidity();t.disabled=!e}}}(e,C)}));const H=e("div","text-question-registration");H.innerHTML='<p>Already have an account on Petsi?<a class="link-sign-in-registration" href = "/auth/login">Sign in</a></p>',a.append(H)}(window.location.pathname.split("/")[3]),document.body.append(P),A(document.body),document.body}const q=e("section","petsitter-form-section"),F={birth:"",gender:"",services:{servicesArr:[],hotel:{active:"false",animals:["dog","cat"],price:"30"},walking:{active:"false",serviceArea:"",kindOfDogs:["micro","small","medium","large","giant"],ageOfDogs:["puppy","youngster","adult","senior"],genderOfDogs:["male","female"],price:"30"},homevisits:{active:"false",serviceArea:"",animals:["dog","cat"],price:"30"},training:{active:"false",price:"30"}},address:"",avatarPath:""};function j(){const t=document.querySelector(".petsitter-form-temporary"),n=document.querySelector(".date-of-birth-input"),i=document.querySelector(".male-input"),o=document.querySelector(".female-input"),a=document.querySelector(".form-progress"),s=document.querySelector(".petsitter-form-icon");if(n.value&&i.checked)F.birth=n.value,F.gender="Male",t.innerHTML="",a.value="17",s.style.backgroundImage="url('../img/icons/cat.png')",_();else if(n.value&&o.checked)F.birth=n.value,F.gender="Female",t.innerHTML="",a.value="17",s.style.backgroundImage="url('../img/icons/cat.png')",_();else{const t=e("p","error-enter-fields");t.textContent="Error: Please, fill in all fields",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}}function _(){const t=document.querySelector(".petsitter-form-temporary"),n=e("h4","temp-title");n.textContent="Choose services you want to provide";const i=e("div","sevices-wrapper"),o=document.querySelector(".form-progress"),a=document.querySelector(".petsitter-form-icon"),s=e("div","check-box-service"),r=e("input","check-box-input-service");r.type="checkbox",r.name="service",r.id="hotel",r.addEventListener("input",(()=>{if(r.checked)c.setAttribute("style","filter: opacity(1); box-shadow: 0 2px 4px 1px rgb(27 28 29 / 90%); background-image: url('../img/images/hotelService.jpg')"),F.services.hotel.active="true",F.services.servicesArr.push("hotel"),console.log(F.services.servicesArr);else{c.setAttribute("style","background-image: url('../img/images/hotelService.jpg')"),F.services.hotel.active="false";const e=F.services.servicesArr.indexOf("hotel");F.services.servicesArr.splice(e,1),console.log(F.services.servicesArr)}}));const c=e("label","check-box-label-service");c.setAttribute("for","hotel"),c.textContent="Home hotel for pets",c.style.backgroundImage="url('../img/images/hotelService.jpg')";const d=e("div","check-box-service"),p=e("input","check-box-input-service");p.type="checkbox",p.name="service",p.id="walk",p.addEventListener("input",(()=>{if(p.checked)l.setAttribute("style","filter: opacity(1); box-shadow: 0 2px 4px 1px rgb(27 28 29 / 90%); background-image: url('../img/images/walkService.jpg')"),F.services.walking.active="true",F.services.servicesArr.push("walking");else{l.setAttribute("style","background-image: url('../img/images/walkService.jpg')"),F.services.walking.active="false";const e=F.services.servicesArr.indexOf("walking");F.services.servicesArr.splice(e,1)}}));const l=e("label","check-box-label-service");l.setAttribute("for","walk"),l.textContent="Walks",l.style.backgroundImage="url('../img/images/walkService.jpg')";const u=e("div","check-box-service"),h=e("input","check-box-input-service");h.type="checkbox",h.name="service",h.id="home",h.addEventListener("input",(()=>{if(h.checked)v.setAttribute("style","filter: opacity(1); box-shadow: 0 2px 4px 1px rgb(27 28 29 / 90%); background-image: url('../img/images/homeService.jpg"),F.services.homevisits.active="true",F.services.servicesArr.push("homevisits");else{v.setAttribute("style","background-image: url('../img/images/homeService.jpg')"),F.services.homevisits.active="false";const e=F.services.servicesArr.indexOf("homevisits");F.services.servicesArr.splice(e,1)}}));const v=e("label","check-box-label-service");v.setAttribute("for","home"),v.textContent="Home visits",v.style.backgroundImage="url('../img/images/homeService.jpg')";const m=e("div","check-box-service"),g=e("input","check-box-input-service");g.type="checkbox",g.name="service",g.id="training",g.addEventListener("input",(()=>{g.checked?(f.setAttribute("style","filter: opacity(1); box-shadow: 0 2px 4px 1px rgb(27 28 29 / 90%); background-image: url('../img/images/dreesingService.jpg')"),F.services.training.active="true"):(f.setAttribute("style","background-image: url('../img/images/dreesingService.jpg')"),F.services.training.active="false")}));const f=e("label","check-box-label-service");f.setAttribute("for","training"),f.textContent="Training",f.style.backgroundImage="url('../img/images/dreesingService.jpg')",s.append(r,c),d.append(p,l),u.append(h,v),m.append(g,f),i.append(s,d,u,m);const y=e("div","form-btn-next");y.textContent="Next",y.addEventListener("click",(()=>{if(r.checked||p.checked||g.checked||h.checked)t.innerHTML="",o.value="34",a.style.backgroundImage="url('../img/icons/home.png')",function(){const t=document.querySelector(".petsitter-form-temporary"),n=document.querySelector(".form-progress"),i=document.querySelector(".petsitter-form-icon");t.innerHTML="";const o=e("h4","temp-title");o.textContent="What is you location?";const a=e("p","temp-title temp-sub");a.textContent="This data is needed to create an account, it will not be visible on the portal";const s=e("form","petsitter-form-temporary");s.setAttribute("style","width: 100%");const r=e("h4","address-subtitle");r.textContent="Enter your address";const c=e("input","address-input");c.placeholder="Street, number of house";const d=e("h4","city-subtitle");d.textContent="Enter your city";const p=e("input","city-input");p.placeholder="City",function(){const e={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:`${localStorage.getItem("curr-user-id")}`})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",e).then((e=>e.json())).then((e=>{p.value=e.city,p.setAttribute("readonly","true")}))}();const l=e("div","form-btn-next");l.textContent="Next",l.setAttribute("style","margin-top: 20px"),l.addEventListener("click",(()=>{if(c.value.length<5||p.value.length<5){const t=e("p","error-enter-fields");t.textContent="Error: Please, enter correct data!",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}else n.value="51",i.style.backgroundImage="url('../img/icons/info.png')",F.address=`${c.value}`,function(){const t=document.querySelector(".petsitter-form-temporary"),n=document.querySelector(".form-progress"),i=document.querySelector(".petsitter-form-icon");t.innerHTML="";const o=e("h4","temp-title");o.textContent="Job Opportunity Statement";const a=e("div","statement-wrapper"),s=e("input","input-statement");s.id="statement-one",s.type="checkbox";const r=e("label","label-statement");r.setAttribute("for","statement-one"),r.textContent="I have never been punished for the crime of intentionally mistreating animals.",a.append(s,r);const c=e("div","statement-wrapper"),d=e("input","input-statement");d.id="statement-two",d.type="checkbox";const p=e("label","label-statement");p.setAttribute("for","statement-two"),p.textContent="I confirm that there was no prohibition against me to perform work, any kind of activity related to the exploitation of animals.",c.append(d,p);const l=e("div","form-btn-next");l.textContent="Next",l.addEventListener("click",(()=>{if(d.checked&&s.checked)n.value="68",i.style.backgroundImage="url('../img/icons/info.png')",function(){const t=document.querySelector(".petsitter-form-temporary"),n=document.querySelector(".form-progress"),i=document.querySelector(".petsitter-form-icon");i.style.backgroundImage="url('../img/icons/cat.png')",t.innerHTML="";const o=e("h4","temp-title");o.textContent="Why do you wish to become a petsitter?";const a=e("p","temp-subtitle");a.textContent="This information will not appear on your profile.";const s=e("textarea","petsitter-description");s.maxLength=200,s.minLength=20;const r=e("div","form-btn-next");r.textContent="Next",r.addEventListener("click",(()=>{if(s.value.length<20){const t=e("p","error-enter-fields");t.textContent="Description should include minimum 20 characters",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}else n.value="85",i.style.backgroundImage="url('../img/icons/cat.png')",function(){const t=document.querySelector(".petsitter-form-temporary"),n=document.querySelector(".form-progress");document.querySelector(".petsitter-form-icon").style.backgroundImage="url('../img/icons/cat.png')",t.innerHTML="",t.setAttribute("style","row-gap: 10px");const i=e("h4","temp-title");i.textContent="How did you know about Petsi?";const o=e("div","radio-wrapper"),a=e("input","how-you-know-radio");a.type="radio",a.name="how-you-know",a.id="radio-1";const s=e("label","how-you-know-label");s.setAttribute("for","radio-1"),s.textContent="Internet advertising",o.append(a,s);const r=e("div","radio-wrapper"),c=e("input","how-you-know-radio");c.type="radio",c.name="how-you-know",c.id="radio-2";const d=e("label","how-you-know-label");d.setAttribute("for","radio-2"),d.textContent="Social media",r.append(c,d);const p=e("div","radio-wrapper"),l=e("input","how-you-know-radio");l.type="radio",l.name="how-you-know",l.id="radio-3";const u=e("label","how-you-know-label");u.setAttribute("for","radio-3"),u.textContent="Direct request from the owner",p.append(l,u);const h=e("div","radio-wrapper"),v=e("input","how-you-know-radio");v.type="radio",v.name="how-you-know",v.id="radio-4";const m=e("label","how-you-know-label");m.setAttribute("for","radio-4"),m.textContent="On the advice of a friend",h.append(v,m);const g=e("div","radio-wrapper"),f=e("input","how-you-know-radio");f.type="radio",f.name="how-you-know",f.id="radio-5";const y=e("label","how-you-know-label");y.setAttribute("for","radio-5"),y.textContent="Direct contact with Petsi",g.append(f,y);const b=e("div","radio-wrapper"),w=e("input","how-you-know-radio");w.type="radio",w.name="how-you-know",w.id="radio-6";const k=e("label","how-you-know-label");k.setAttribute("for","radio-6"),k.textContent="Other",b.append(w,k);const x=e("div","form-btn-next");x.setAttribute("style","margin-top: 20px"),x.textContent="Next",x.addEventListener("click",(()=>{if(a.checked||c.checked||l.checked||v.checked||f.checked||w.checked)n.value="100",function(){const t=document.querySelector(".petsitter-form-temporary");t.innerHTML="";const n=e("h4","temp-title");n.textContent="Adding a photo",n.setAttribute("style","margin-bottom: 0");const i=e("p","temp-subtitle");i.textContent="Add a profile photo to make it easier for owners to recognize you.",i.setAttribute("style","text-align: center");const o=e("div","photo-container");o.setAttribute("style","background-image: url('../img/icons/photo.png')");const a=e("input","button-add-photo");a.type="file",a.accept=".png,.jpg,.jpeg",a.id="photo";const s=e("button","button-confirm");s.textContent="Confirm",s.addEventListener("click",(e=>{e.preventDefault();const t={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),gender:F.gender,birth:F.birth,address:F.address,avatarPath:F.avatarPath,level:"Professional",active_hotel:F.services.hotel.active,active_walking:F.services.walking.active,active_homevisits:F.services.homevisits.active,animals_hotel:F.services.hotel.animals,animals_homevisits:F.services.homevisits.animals,price_hotel:F.services.hotel.price,price_walking:F.services.walking.price,price_homevisits:F.services.homevisits.price,serviceArea_walking:F.services.walking.serviceArea,serviceArea_homevisits:F.services.homevisits.serviceArea,kindOfDogs:F.services.walking.kindOfDogs,ageOfDogs:F.services.walking.ageOfDogs,genderOfDogs:F.services.walking.genderOfDogs,servicesArr:F.services.servicesArr})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",t).then((e=>e.json())).then((e=>{console.log(e)})),history.pushState("","",""),window.dispatchEvent(new Event("popstate"))}));a.onchange=()=>{if(a.files){const e=new FormData;return e.append("image",a.files[0],a.files[0].name),fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/register/add-photo",{method:"POST",body:e}).then((e=>e.json())).then((e=>{o.setAttribute("style",`background-image: url('https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}'); background-blend-mode:normal`),F.avatarPath=`https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}`,s.setAttribute("style","pointer-events:all")})),a.files[0]}};const r=e("label","label-add-photo");r.setAttribute("for","photo"),r.textContent="Add photo",o.append(a,r);const c=e("button","button-skip");c.textContent="Skip",c.addEventListener("click",(e=>{e.preventDefault();const t={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),gender:F.gender,birth:F.birth,services:F.services,address:F.address,avatarPath:"",level:"Professional",active_hotel:F.services.hotel.active,active_walking:F.services.walking.active,active_homevisits:F.services.homevisits.active,animals_hotel:F.services.hotel.animals,animals_homevisits:F.services.homevisits.animals,price_hotel:F.services.hotel.price,price_walking:F.services.walking.price,price_homevisits:F.services.homevisits.price,serviceArea_walking:F.services.walking.serviceArea,serviceArea_homevisits:F.services.homevisits.serviceArea,kindOfDogs:F.services.walking.kindOfDogs,ageOfDogs:F.services.walking.ageOfDogs,genderOfDogs:F.services.walking.genderOfDogs,servicesArr:F.services.servicesArr})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",t).then((e=>e.json())).then((e=>{console.log(e)})),history.pushState("","",""),window.dispatchEvent(new Event("popstate"))})),t.append(n,i,o,s,c)}();else{const t=e("p","error-enter-fields");t.textContent="Error: choose one source",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}})),t.append(i,o,r,p,h,g,b,x)}()})),t.append(o,a,s,r)}();else{const t=e("p","error-enter-fields");t.textContent="Confirm all statements below",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}})),t.append(o,a,c,l)}()})),s.append(r,c,d,p),t.append(o,a,s,l)}();else{const t=e("p","error-enter-fields");t.textContent="Error: Please, choose at least one option!",document.body.append(t),setTimeout((()=>{document.body.removeChild(t)}),2e3)}})),t.append(n,i,y)}function B(){return document.body.innerHTML="",function(){document.body.setAttribute("style","padding: 0");const t=e("div","petsitter-form-container"),n=e("input","form-progress");n.value="0",n.type="range";const i=e("p","petsitter-form-subtitle");i.textContent="Just few more steps..";const o=e("h3","petsitter-form-title");o.textContent="Petsi";const a=e("div","petsitter-form-icon");a.style.backgroundImage="url('../img/icons/home.png')";const s=e("form","petsitter-form-temporary"),r=e("h4","temp-title");r.textContent="Tell us about yourself";const c=e("h4","date-of-birth-input-title");c.textContent="Enter you date of birth";const d=e("input","date-of-birth-input petsitter-form-input");d.type="date";const p=e("div","gender-container"),l=e("div","male-gender-container"),u=e("input","gender-input male-input");u.type="radio",u.name="gender",u.id="Male";const h=e("label","gender-input-label");h.setAttribute("for","Male"),h.textContent="Male",l.append(u,h);const v=e("div","female-gender-container"),m=e("input","gender-input female-input");m.type="radio",m.name="gender",m.id="Female";const g=e("label","gender-input-label");g.setAttribute("for","Female"),g.textContent="Female",v.append(m,g),p.append(l,v);const f=e("div","form-btn-next");f.textContent="Next",f.addEventListener("click",j),s.append(r,c,d,p,f);const y=e("a","go-main-page-link");y.textContent="Back to main page",y.href="/",t.append(n,i,o,a,s,y),q.append(t)}(),document.body.append(q)}const W={type:"",date:"",city:"",pet:""};function z(t,n){if(n){const i=e("p","titlePetsChoise ","","My Pets");t.append(i);for(let i=0;i<n.length;i++){const o=e("li","","",`${n[i]}`);t.append(o)}}const i=e("p","titlePetsChoise","","Cat"),o=e("li","Cat","","Small(up to 6 kg)"),a=e("li","Cat","","Large(over 6 kg)"),s=e("p","titlePetsChoise","","Dog"),r=e("li","Dog","","Micro(up to 5 kg)"),c=e("li","Dog","","Small(6 - 15 kg)"),d=e("li","Dog","","Medium(16 - 25 kg)"),p=e("li","Dog","","Large(26 - 35 kg)"),l=e("li","Dog","","Giant(over 36 kg)");t.append(i),t.append(o),t.append(a),t.append(s),t.append(r),t.append(c),t.append(d),t.append(p),t.append(l)}function J(){const e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();let o="",a="";return o=n<10?"0"+n:String(n),a=i<10?"0"+i:String(i),t+"-"+o+"-"+a}function Y(){document.body.innerHTML="",localStorage.getItem("curr-user-id")?x(document.body):L(document.body);const n=e("section","wrapper wrapper-main-owner"),i=e("div","content"),o=e("div","leftText"),a=e("h1","title","","Leave your dog or cat in good hands and go on vacation in peace! We have the best pet sitters in town!"),s=e("p","text","","Petsi gives you the freedom to choose. Here you will find real enthusiasts who will take care of your pet the way you want."),r=e("div","banImgs"),c=new Image,d=new Image,p=new Image;c.className="banImg",c.src="img/images/homeService.jpg",d.className="banImg",d.src="img/images/hotelService.jpg",p.className="banImg",p.src="img/images/walkService.jpg";const l=e("div","rightImg"),u=e("div","imgDiv"),h=new Image;h.src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fhero.jpg&w=1920&q=75";const v=e("section","wrapper section1"),m=e("div","content");!function(n){const i=e("div","boxFilter"),o=e("div","selectionBox "),a=e("div","selectionBoxN ActivSelectionBox","","Accomodation"),s=e("div","selectionBoxN","","Walk"),r=e("div","selectionBoxN","","Home visits"),c=e("hr"),d=e("div","inputsBox"),p=e("div","box1"),l=e("p","nameInputBox","","Dog Cat"),u=e("div","petBox"),h=e("ul","menuPets");z(h);const v=new Image;v.src="img/paw.svg";const m=t("text"),g=new Image;g.src="img/down.svg";const f=e("div","box1"),y=e("p","nameInputBox","","Address"),b=e("div"),w=new Image;w.src="img/geoloc.svg";const k=t("search","search");k.setAttribute("placeholder","city");const x=e("div","box1"),L=e("p","nameInputBox","","Deadline"),E=e("div"),A=t("date");A.value=J();const T=e("div","box1 timeBox"),S=e("p","nameInputBox","","Time"),M=e("div","timeBox"),C=e("ul","menuTime");N(C);const H=new Image;H.src="img/clock.svg";const D=t("text","itTime","itTime"),O=new Image;O.src="img/down.svg";const I=e("button","btn rectangle","","Search"),P=new Image;function N(t){let n="";n=A.value==J()?function(){const e=new Date;return e.getHours()+"-"+e.getMinutes()}():"05-00";const i=n.split("-");let o=Number(i[0]),a=Number(i[1]);for(o<5&&(o=5,a=0),0!=a&&30!=a||(o+=1),a>0&&a<30&&(o+=1,a=30),a>30&&(o+=2,a=0);o<22;){let n="";o<10&&a<10?n=`0${o}:0${a}`:o<0&&a>=0?n=`0${o}:${a}`:o>=0&&a<10?n=`${o}:0${a}`:o<0&&(n=`${o}:${a}`);const i=e("li","","",`${n}`);t.append(i),0==a?(a=30,o+=0):30==a&&(a=0,o+=1)}}P.src="img/loupe.svg",n.append(i),i.append(o),i.append(c),i.append(d),o.append(a),o.append(s),o.append(r),d.append(p),d.append(f),d.append(x),d.append(T),d.append(I),p.append(l),p.append(u),u.append(v),u.append(m),u.append(g),u.append(h),f.append(y),f.append(b),b.append(w),b.append(k),x.append(L),x.append(E),E.append(A),T.append(S),T.append(M),M.append(H),M.append(D),M.append(O),M.append(C),I.append(P);let $=a;o.addEventListener("click",(e=>{if(e.target&&e.target instanceof HTMLElement){const n=e.target;if(n.classList.contains("ActivSelectionBox"))return;(t=n).classList.contains("selectionBoxN")&&($.classList.remove("ActivSelectionBox"),$=t,$.classList.add("ActivSelectionBox"))}var t})),u.addEventListener("click",(e=>{if(e.target&&e.target instanceof HTMLElement){const t=e.target;"LI"==t.tagName&&(m.value=t.innerHTML)}})),M.addEventListener("click",(e=>{if(e.target&&e.target instanceof HTMLElement){const t=e.target;"LI"==t.tagName&&(D.value=t.innerHTML)}})),A.addEventListener("change",(()=>{C.innerHTML="",N(C)})),I.addEventListener("click",(()=>{W.type=$.innerHTML,W.date=A.value,W.city=k.value,W.pet=m.value,history.pushState("","","/search"),window.dispatchEvent(new Event("popstate"))}))}(m);const f=e("section","wrapper section2"),y=e("div","content"),b=e("h2","","","The best petsitters for your pets"),w=e("div","leftText");w.innerHTML='    <div class="line">\n  <div class="svg">\n\n  <embed type="image/svg+xml" src="img/home.svg" />\n  </div><div class="text">\n      <h3>Accommodation for a dog or cat</h3>\n      <p>Your pets stay overnight at the petsitter\'s house. They will be treated like family members in comfortable conditions.</p>\n  </div>\n</div>\n<div class="line">\n  <div class="svg">\n      <embed type="image/svg+xml" src="img/paw.svg" />\n  </div>\n  <div class="text">\n      <h3>Walking the dog</h3>\n      <p>Your dog is walking around your neighborhood. Perfect for busy days and for dogs with a lot of energy to use.</p>\n  </div>\n</div>\n<div class="line">\n  <div class="svg">\n  <embed type="image/svg+xml" src="img/user_house.svg" />\n  </div>\n  <div class="text">\n      <h3>Home visits</h3>\n      <p>A petsitter comes to your house to keep your pets company, give food, take a break for a walk or clean up the litter box.</p>\n  </div>\n</div>';const k=e("div","rightImg");k.innerHTML='<div class="center">\n  <div class="line">\n      <div class="svg">\n      <embed type="image/svg+xml" src="img/hand_heart.svg" />\n      </div>\n      <h3>Find a trusted local pet sitter</h3>\n  </div>\n  <div class="line">\n      <div class="svg">\n      <embed type="image/svg+xml" src="img/ok.svg" />\n      </div>\n      <p>Only verified pet sitters</p>\n  </div>\n  <div class="line">\n      <div class="svg">\n      <embed type="image/svg+xml" src="img/ok.svg" />\n      </div>\n      <p>We talk to everyone personally</p>\n  </div>\n  <div class="line">\n      <div class="svg">\n      <embed type="image/svg+xml" src="img/ok.svg" />\n      </div>\n      <p>Browse verified reviews</p>\n  </div>\n  <button class="btn rectangle" id="">Browse pet sitters</button>\n</div>';const E=e("section","wrapper section3"),T=e("div","content"),S=e("div","rightImg"),M=e("div","leftText");S.innerHTML='<div class="imgDiv">\n  <img src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fowner_main.jpg&w=1920&q=75" alt="">\n</div>',M.innerHTML='<h2>Go on vacation and we\'ll take care of your pet</h2>\n    <div class="line">\n<div class="svg"><svg></svg></div><div class="text">\n    <h3>Accommodation for a dog or cat</h3>\n    <p>Your pets stay overnight at the petsitter\'s house. They will be treated like family members in comfortable conditions.</p>\n</div>\n</div>\n<div class="line">\n<div class="svg">\n    <svg></svg>\n</div>\n<div class="text">\n    <h3>Walking the dog</h3>\n    <p>Your dog is walking around your neighborhood. Perfect for busy days and for dogs with a lot of energy to use.</p>\n</div>\n</div>\n<div class="line">\n<div class="svg">\n    <svg></svg>\n</div>\n<div class="text">\n    <h3>Home visits</h3>\n    <p>A petsitter comes to your house to keep your pets company, give food, take a break for a walk or clean up the litter box.</p>\n</div>\n</div>';const C=e("section","wrapper section4");C.innerHTML='    <div class="content">\n  <div class="leftText">\n      <span>PETSI</span>\n      <h2 class="title">Overnight with a pet sitter</h2>\n      <p class="text">Are you looking for accommodation for your pet? With us you will find a guardian who will take care of him the way you want! She will be with him all day, give him full attention, and at night will hug him and let him into the bed!</p>\n      <button class="btn rectangle" id="">Browse pet sitters</button>\n  </div>\n  <div class="rightImg">\n      <div class="imgDiv">\n          <img src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fowner_accommodation.jpg&w=1920&q=75" alt="">\n      </div>\n  </div>\n</div>';const H=e("section","wrapper section5");H.innerHTML='    <div class="content">\n  <div class="rightImg">\n  <div class="imgDiv">\n      <img src="https://petsy.pl/_next/image/?url=%2Fimages%2Flandings%2Fowner_walk.jpg&w=1920&q=75" alt="">\n  </div>\n</div>\n  <div class="leftText">\n      <span>PETSI</span>\n      <h2 class="title">Walk</h2>\n      <p class="text">Coming home late from work? Do you have to leave early? Find a guardian who will walk your pet, throw him a ball, comb and scratch behind the ear! Browse profiles and choose the best candidate.</p>\n      <button class="btn rectangle" id="">Browse pet sitters</button>\n  </div>\n\n</div>';const D=function(){let t=0;const n=e("section","slider-petsit-container"),i=e("div","slider-petsit-wrapper");n.append(i);const o=e("div","slider-item-wrapper");i.append(o);const a=R(t);o.append(a),setInterval((function(){t>g.length-1&&(t=0),o.innerHTML="";const e=R(t);o.append(e),t+=1}),4e3);const s=e("div","pagination-petsit-slider-container");i.append(s);const r=e("div","pagination-btn-petsit","","ðŸ ”");s.append(r),r.addEventListener("click",(()=>{t-=1,t<0&&(t=g.length-1),o.innerHTML="";const e=R(t);o.append(e)}));const c=e("div","pagination-btn-petsit","","ðŸ –");return s.append(c),c.addEventListener("click",(()=>{t+=1,t>g.length-1&&(t=0),o.innerHTML="";const e=R(t);o.append(e)})),n}();document.body.append(n),document.body.append(v),document.body.append(f),document.body.append(E),document.body.append(C),document.body.append(H),document.body.append(D),n.append(i),i.append(o),i.append(l),o.append(a),o.append(s),o.append(r),r.append(c),r.append(d),r.append(p),l.append(u),u.append(h),v.append(m),f.append(b),f.append(y),y.append(w),y.append(k),E.append(T),T.append(S),T.append(M),A(document.body);const O=document.getElementsByTagName("button");console.log(O);for(let e=0;e<O.length;e++)O[e].addEventListener("click",(function(){"menu"===O[e].id?console.log("menu"):"notification"===O[e].id?console.log("notification"):"Browse pet sitters"===O[e].innerHTML?console.log("Browse pet sitters"):"view profile"===O[e].innerHTML?console.log("view profile"):"leftArrow"===O[e].id?(localStorage.reviewsN--,console.log(localStorage.reviewsN),localStorage.reviewsN<0&&console.log("<0",localStorage.reviewsN),localStorage.reviewsN>=0&&console.log(">=0",localStorage.reviewsN)):"rightArrow"===O[e].id&&console.log("rightArrow")}))}function R(t){const n=e("div","slider-petsit-item"),i=e("div","img-btn-slider-container");n.append(i);const o=e("div","img-slider-item-container"),a=e("img","img-petsit-slider-item");a instanceof HTMLImageElement&&(a.src=g[t].src,a.alt=`Photo of ${g[t].lastName} ${g[t].firstName}`),i.append(o),o.append(a);const s=function(){const t=e("a","btn-view-profile","","View profile");return t instanceof HTMLAnchorElement&&(t.href="/p/"),t}();i.append(s);const r=e("div","text-box-slider-item");n.append(r);const c=e("h4","name-petsit-slider","",`${g[t].firstName}`);r.append(c);const d=e("div","role-petsit-slider","",`${g[t].role}`);r.append(d);const p=e("div","stars-slider-container","","â˜…â˜…â˜…â˜…â˜…");r.append(p);const l=e("div","review-slider-item","",`${g[t].review}`);r.append(l);const u=e("div","review-owner-text","",`${g[t].reviewOwner}`);return r.append(u),n}const G=["What prompted you to become a petsitter?","What character traits make you a good petsitter?","What previous experience do you have in caring for animals - maybe you have had pets of your own, maybe you work with them professionally, have experience as a temporary home or volunteer at a shelter?","Are you interested in any specific areas related to animals and their care?","What do you do on a daily basis, what do you do for a living and how much time per day are you able to devote to care?","If you plan to take animals in your home, what kind of housing do you offer (neighborhood, amenities)?"],V=["Maybe you have completed some courses or training or are planning to start them in the near future?","Maybe you already have regular clients worth writing about?","Maybe you have some professional achievements related to animals?","Maybe you have experience with animals suffering from specific behavioral problems?","Maybe you are able to provide unique attractions or activities for animals (do you have cool scratching posts for cats, live in an interesting area for dog walking, running)?"];var K=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};function U(t,n,i,o){return K(this,void 0,void 0,(function*(){const a=e("div",`service-item-block-profile ${o}-service`),s=e("div","img-service-block");a.append(s);const r=e("img","img-service-item");s.append(r),r.src=t,r.alt="Pets";const c=e("div",`text-item-service-block ${o}-service`);a.append(c);const d=e("h3","title-photo-profile-block","",n);c.append(d);const p=e("div","text-service","",i);c.append(p);const l=e("div","btn-service-block");a.append(l);const u=e("label","switch-service"),h=e("input");h.type="checkbox",h.name=o;const v=e("span","slider-service round-slider");l.append(u),u.append(h,v);const m=e("button","btn-edit-service",`btn-${o}`,"Edit");return l.append(m),a}))}let Q="",Z=[],X=[],ee=[];function te(){return t=this,n=void 0,o=function*(){const t=(yield l()).item,n=e("div","basic-info-block my-pets"),i=e("h1","title-photo-profile-block my-pets-title","","My pets");n.append(i);const o=e("div","my-pet-text-btn-wrapper");n.append(o);const a=e("div","common-text-my-pets");o.append(a);const s=t.role;a.innerHTML="OWNER"===s?"Add your pet to conveniently and quickly order petsitter care services.":"If you own a dog or cat, add its profile. This will allow your customers to see who their pet will be spending time with.";const r=e("button","btn-add-pet","btn-add-pet","Add pet");o.append(r),r.addEventListener("click",(()=>{history.pushState("","","/pets/add"),window.dispatchEvent(new Event("popstate"))}));const c=e("div","pets-item-count-block");n.append(c);const d=t.pets;if(console.log("petsUser",d),0===d.length){c.innerHTML="";const t=e("div","no-pets-text","","No pets added");c.append(t)}else c.innerHTML="",d.forEach((e=>{console.log(e);const t=ne(e);c.append(t)}));return n},new((i=void 0)||(i=Promise))((function(e,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,r)}c((o=o.apply(t,n||[])).next())}));var t,n,i,o}function ne(t){const n=e("div","item-pet-block"),i=e("h4","name-pet-item","",t.name),o=e("div","breed-pet-item","",t.breed);if(n.append(i,o),""!==t.avatarPath){const i=e("div","div-img-pet"),o=e("img","img-pet-item");i.append(o),o.src=t.avatarPath,n.append(i)}const a=e("div","div-common-info-pet"),s=e("div","common-info-pet-item-text","",t.type),r=e("div","common-info-pet-item-text","",t.gender);if(a.append(s,r),""!==t.size){const n=e("div","common-info-pet-item-text","",t.size);a.append(n)}if(""!==t.age){const n=e("div","common-info-pet-item-text","",t.age);a.append(n)}const c=e("h4","description-title-item","","Description"),d=e("p","description-text-item-pet","",t.about);if(n.append(a,c,d),Object.values(t.other).includes("true")){const i=e("ul","other-info-pet-item-title","","Other important information");n.append(i),t.other.arr.forEach((t=>{const i=e("li","other-pet-item","",t);n.append(i)}))}if("/owner/pets"===window.location.pathname||"/petsitter/profile/basics"===window.location.pathname){const i=e("img","svg-btn-edit-delete");i.src="img/svg/threeDots.svg";const o=e("div","delete-edit-wrapper");n.append(i,o);const a=e("button","btn-delete-pet",`btn-delete-pet-${t.petId}`,"Delete"),s=e("button","btn-edit-pet",`btn-edit-pet-${t.petId}`,"Edit");i.addEventListener("click",(()=>{o.classList.toggle("active")})),o.append(a,s)}return n}var ie=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const oe=e("section","section-petsit-profile-basic"),ae={birth:"",gender:"",services:[],address:"",avatarPath:""},se=[];function re(){return ie(this,void 0,void 0,(function*(){oe.innerHTML="";const t=e("div","section-profile-basic-block");oe.append(t);const i=e("div","profile-title-wrapper");t.append(i);const o=e("h2","my-profile-text-title","","My profile");i.append(o);const a=e("div","profile-select-btn-block");t.append(a);const s=e("div","btn-profile-common-info btn-profile-select active","","Basic Information");a.append(s),s.addEventListener("click",(()=>ie(this,void 0,void 0,(function*(){u.innerHTML="";const e=yield ce();u.append(e)}))));const r=e("div","btn-profile-price btn-profile-select","","Services & Price List");a.append(r),r.addEventListener("click",(()=>ie(this,void 0,void 0,(function*(){u.innerHTML="";const t=yield function(){return K(this,void 0,void 0,(function*(){const t=[],n=(yield l()).item;console.log("userInfo",n);const i=e("div","basic-info-block"),o=e("h3","title-photo-profile-block","","Manage the services you provide");i.append(o);const a=e("div","text-service","","Here you can manage the services you provide. You can enable, disable or edit them at any time. We encourage you to manage your offerings accordingly."),s=e("div","text-service","","Remember that payment for all services provided should be accepted only through the platform. Billing caregivers outside of the platform is against the terms and conditions and will result in account deactivation.");i.append(a,s);const r=yield U("https://petsy.pl/_next/image/?url=%2F_next%2Fstatic%2Fmedia%2FACCOMMODATION.829018b2.jpg&w=640&q=75","Accommodation","A service in which you take your pet under your roof for a specified period of time. You can also add an additional paid transportation option as part of the settings.","accommodation");i.append(r);const d=yield U("https://petsy.pl/_next/image/?url=%2F_next%2Fstatic%2Fmedia%2FWALK.b64f0e8b.jpg&w=640&q=75","Walking","Dog walking service at the owner's place of residence","walking");i.append(d);const p=yield U("https://petsy.pl/_next/image/?url=%2F_next%2Fstatic%2Fmedia%2FDROP_IN.79191e46.jpg&w=640&q=75","Home visits","30-minute visits to the owner's home to play with the animals, serve food, take a quick walk or clean the litter box.","home-visits");return i.append(p),setTimeout((()=>{const e=document.querySelectorAll(".switch-service"),n=localStorage.getItem("curr-user-id"),i={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:n})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",i).then((e=>e.json())).then((n=>{var i,o,a,s,r,c;"true"==n.petsitterData.services.hotel.active&&(null===(i=e[0].firstElementChild)||void 0===i||i.setAttribute("checked","true"),t.push("hotel")),null===(o=e[0].firstElementChild)||void 0===o||o.addEventListener("click",(()=>{var n,i,o,a;if(null===(n=e[0].firstElementChild)||void 0===n?void 0:n.getAttribute("checked")){const n=t.indexOf("hotel");t.splice(n,1),null===(i=e[0].firstElementChild)||void 0===i||i.removeAttribute("checked");const o={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_hotel:"false",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",o).then((e=>e.json())).then((e=>{console.log(e)}))}else if(!(null===(o=e[0].firstElementChild)||void 0===o?void 0:o.getAttribute("checked"))){t.push("hotel"),null===(a=e[0].firstElementChild)||void 0===a||a.setAttribute("checked","true");const n={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_hotel:"true",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",n).then((e=>e.json())).then((e=>{console.log(e)}))}})),"true"==n.petsitterData.services.walking.active&&(null===(a=e[1].firstElementChild)||void 0===a||a.setAttribute("checked","true"),t.push("walking")),null===(s=e[1].firstElementChild)||void 0===s||s.addEventListener("click",(()=>{var n,i,o,a;if(null===(n=e[1].firstElementChild)||void 0===n?void 0:n.getAttribute("checked")){const n=t.indexOf("walking");t.splice(n,1),null===(i=e[1].firstElementChild)||void 0===i||i.removeAttribute("checked");const o={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_walking:"false",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",o).then((e=>e.json())).then((e=>{console.log(e)}))}else if(!(null===(o=e[1].firstElementChild)||void 0===o?void 0:o.getAttribute("checked"))){t.push("walking"),null===(a=e[1].firstElementChild)||void 0===a||a.setAttribute("checked","true");const n={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_walking:"true",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",n).then((e=>e.json())).then((e=>{console.log(e)}))}})),"true"==n.petsitterData.services.homevisits.active&&(null===(r=e[2].firstElementChild)||void 0===r||r.setAttribute("checked","true"),t.push("homevisits"),console.log(t)),null===(c=e[2].firstElementChild)||void 0===c||c.addEventListener("click",(()=>{var n,i,o,a;if(null===(n=e[2].firstElementChild)||void 0===n?void 0:n.getAttribute("checked")){const n=t.indexOf("homevisits");t.splice(n,1),console.log(t),null===(i=e[2].firstElementChild)||void 0===i||i.removeAttribute("checked");const o={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_homevisits:"false",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",o).then((e=>e.json())).then((e=>{console.log(e)}))}else if(!(null===(o=e[2].firstElementChild)||void 0===o?void 0:o.getAttribute("checked"))){t.push("homevisits"),null===(a=e[2].firstElementChild)||void 0===a||a.setAttribute("checked","true");const n={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),active_homevisits:"true",servicesArr:t})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",n).then((e=>e.json())).then((e=>{console.log(e)}))}}))}))}),100),r.addEventListener("click",(e=>{e.target&&e.target instanceof HTMLButtonElement&&"btn-accommodation"===e.target.id&&(history.pushState("","","/petsitter/profile/services/edit/accommodation"),window.dispatchEvent(new Event("popstate")),c())})),d.addEventListener("click",(e=>{e.target&&e.target instanceof HTMLButtonElement&&"btn-walking"===e.target.id&&(history.pushState("","","/petsitter/profile/services/edit/walk"),window.dispatchEvent(new Event("popstate")),c())})),p.addEventListener("click",(e=>{e.target&&e.target instanceof HTMLButtonElement&&"btn-home-visits"===e.target.id&&(history.pushState("","","/petsitter/profile/services/edit/drop-in"),window.dispatchEvent(new Event("popstate")),c())})),i}))}();u.append(t)}))));const d=e("div","btn-profile-my-home btn-profile-select","","My Home");a.append(d),d.addEventListener("click",(()=>ie(this,void 0,void 0,(function*(){u.innerHTML="";const t=yield function(){return t=this,i=void 0,a=function*(){const t=(yield l()).item,i=e("div","basic-info-block"),o=e("h3","title-photo-profile-block","","Address where you provide services");i.append(o);const a=e("div","text-service","",`${t.city}`);i.append(a);const s=e("h3","title-photo-profile-block","","About my house");i.append(s);const r=e("div","text-service","","Describe what conditions your pets will find in your home and what the rules are.");i.append(r);const c=e("fieldset","additional-qualification-block fieldset-my-home where-live-fieldset");i.append(c);const d=e("legend","legend-my-home","","Where you live"),p=e("div","div-input-where-live"),u=e("div","div-input-where-live"),h=e("div","div-input-where-live"),v=e("div","div-input-where-live"),m=e("div","div-input-where-live");c.append(d,p,u,h,v,m);const g=e("input","","apartment-in-a-block-house");g.type="radio",g.name="view-house",g.value="Apartment in a block/house",g.addEventListener("click",(()=>{Q="Apartment in a block/house"}));const f=e("label","","","Apartment in a block/house");f.setAttribute("for","apartment-in-a-block-house"),p.append(g,f);const y=e("input","","apartment-with-garden");y.type="radio",y.name="view-house",y.value="Apartment with garden (first floor)",y.addEventListener("click",(()=>{Q="Apartment with garden (first floor)"}));const b=e("label","","","Apartment with garden (first floor)");b.setAttribute("for","apartment-with-garden"),u.append(y,b);const w=e("input","","house-with-garden");w.type="radio",w.name="view-house",w.value="House with garden",w.addEventListener("click",(()=>{Q="House with garden"}));const k=e("label","","","House with garden");k.setAttribute("for","house-with-garden"),h.append(w,k);const x=e("input","","apartment-with-balcony");x.type="radio",x.name="view-house",x.value="Apartment with balcony",x.addEventListener("click",(()=>{Q="Apartment with balcony"}));const L=e("label","","","Apartment with balcony");L.setAttribute("for","apartment-with-balcony"),v.append(x,L);const E=e("input","","house");E.type="radio",E.name="view-house",E.value="House",E.addEventListener("click",(()=>{Q="House"}));const A=e("label","","","House");A.setAttribute("for","house"),m.append(E,A);const T=e("div","second-block-inputs-home");i.append(T);const S=e("fieldset","additional-qualification-block fieldset-my-home fieldset-condition-my-home");T.append(S);const M=e("legend","legend-my-home","","Conditions in my home");S.append(M);const C=n("checkbox","animals-can-sleep-in-the-bed","Animals can sleep in the bed","Animals can sleep in the bed","div-conditions-my-home");C.addEventListener("input",(()=>{if(C.checked){if(C.checked){const e=Z.indexOf("animals-can-sleep-in-the-bed");Z.splice(e,1),C.checked=!1}}else Z.push("animals-can-sleep-in-the-bed"),C.checked=!0}));const H=n("checkbox","windows-protected-by-mesh","Windows protected by mesh","Windows protected by mesh","div-conditions-my-home");H.addEventListener("input",(()=>{if(H.checked){if(H.checked){const e=Z.indexOf("windows-protected-by-mesh");Z.splice(e,1),H.checked=!1}}else Z.push("windows-protected-by-mesh"),H.checked=!0}));const D=n("checkbox","balcony-secured-with-netting","Balcony secured with netting","Balcony secured with netting","div-conditions-my-home");D.addEventListener("input",(()=>{if(D.checked){if(D.checked){const e=Z.indexOf("balcony-secured-with-netting");Z.splice(e,1),D.checked=!1}}else Z.push("balcony-secured-with-netting"),D.checked=!0}));const O=n("checkbox","no-plants-toxic-to-animals-in-the-house","No plants toxic to animals in the house","No plants toxic to animals in the house","div-conditions-my-home");O.addEventListener("input",(()=>{if(O.checked){if(O.checked){const e=Z.indexOf("no-plants-toxic-to-animals-in-the-house");Z.splice(e,1),O.checked=!1}}else Z.push("no-plants-toxic-to-animals-in-the-house"),O.checked=!0}));const I=n("checkbox","the-apartment-has-a-playpen","The apartment has a playpen","The apartment has a playpen","div-conditions-my-home");I.addEventListener("input",(()=>{if(I.checked){if(I.checked){const e=Z.indexOf("the-apartment-has-a-playpen");Z.splice(e,1),I.checked=!1}}else Z.push("the-apartment-has-a-playpen"),I.checked=!0}));const P=n("checkbox","the-building-has-an-elevator","The building has an elevator","The building has an elevator","div-conditions-my-home");P.addEventListener("input",(()=>{if(P.checked){if(P.checked){const e=Z.indexOf("the-building-has-an-elevator");Z.splice(e,1),P.checked=!1}}else Z.push("the-building-has-an-elevator"),P.checked=!0}));const N=n("checkbox","no-smoking-inside","No smoking inside","No smoking inside","div-conditions-my-home");N.addEventListener("input",(()=>{if(N.checked){if(N.checked){const e=Z.indexOf("no-smoking-inside");Z.splice(e,1),N.checked=!1}}else Z.push("no-smoking-inside"),N.checked=!0}));const $=n("checkbox","animals-can-climb-on-the-furniture","Animals can climb on the furniture (couches, armchairs, etc.).","Animals can climb on the furniture (couches, armchairs, etc.).","div-conditions-my-home");$.addEventListener("input",(()=>{if($.checked){if($.checked){const e=Z.indexOf("animals-can-climb-on-the-furniture");Z.splice(e,1),$.checked=!1}}else Z.push("animals-can-climb-on-the-furniture"),$.checked=!0})),S.append(C,H,D,O,I,P,N,$);const q=e("div","second-block-in-second-block-inputs");T.append(q);const F=e("fieldset","additional-qualification-block fieldset-my-home fieldset-second-second-block");q.append(F);const j=e("legend","legend-my-home","","Other tenants"),_=n("checkbox","children-live-in-the-house","Children live in the house","Children live in the house","div-my-home");_.addEventListener("input",(()=>{if(_.checked){if(_.checked){const e=X.indexOf("children-live-in-the-house");X.splice(e,1),_.checked=!1}}else X.push("children-live-in-the-house"),_.checked=!0}));const B=n("checkbox","there-are-elderly-people-living-in-the-house","There are elderly people living in the house","There are elderly people living in the house","div-my-home");B.addEventListener("input",(()=>{if(B.checked){if(B.checked){const e=X.indexOf("there-are-elderly-people-living-in-the-house");X.splice(e,1),B.checked=!1}}else X.push("there-are-elderly-people-living-in-the-house"),B.checked=!0}));const W=n("checkbox","women-live-in-the-house","Women live in the house","Women live in the house","div-my-home");W.addEventListener("input",(()=>{if(W.checked){if(W.checked){const e=X.indexOf("women-live-in-the-house");X.splice(e,1),W.checked=!1}}else X.push("women-live-in-the-house"),W.checked=!0}));const z=n("checkbox","men-live-in-the-house","Men live in the house","Men live in the house","div-my-home");z.addEventListener("input",(()=>{if(z.checked){if(z.checked){const e=X.indexOf("men-live-in-the-house");X.splice(e,1),z.checked=!1}}else X.push("men-live-in-the-house"),z.checked=!0})),F.append(j,_,B,W,z);const J=e("fieldset","additional-qualification-block fieldset-my-home fieldset-second-second-block");q.append(J);const Y=e("legend","legend-my-home","","Other animals"),R=n("checkbox","i-own-a-dog","I own a dog/dogs","I own a dog/dogs","div-my-home");R.addEventListener("input",(()=>{if(R.checked){if(R.checked){const e=ee.indexOf("i-own-a-dog");ee.splice(e,1),R.checked=!1}}else ee.push("i-own-a-dog"),R.checked=!0}));const G=n("checkbox","i-am-settling-a-cat","I am settling a cat/cats","I am settling a cat/cats","div-my-home");G.addEventListener("input",(()=>{if(G.checked){if(G.checked){const e=ee.indexOf("i-am-settling-a-cat");ee.splice(e,1),G.checked=!1}}else ee.push("i-am-settling-a-cat"),G.checked=!0}));const V=n("checkbox","i-own-a-rodent(s)","I own a rodent(s)","I own a rodent(s)","div-my-home");V.addEventListener("input",(()=>{if(V.checked){if(V.checked){const e=ee.indexOf("i-own-a-rodent(s)");ee.splice(e,1),V.checked=!1}}else ee.push("i-own-a-rodent(s)"),V.checked=!0}));const K=n("checkbox","i-own-a-fish","I own a fish","I own a fish","div-my-home");K.addEventListener("input",(()=>{if(K.checked){if(K.checked){const e=ee.indexOf("i-own-a-fish");ee.splice(e,1),K.checked=!1}}else ee.push("i-own-a-fish"),K.checked=!0}));const U=n("checkbox","i-own-a-bird","I own a bird(s)","I own a bird(s)","div-my-home");U.addEventListener("input",(()=>{if(U.checked){if(U.checked){const e=ee.indexOf("i-own-a-bird");ee.splice(e,1),U.checked=!0}}else ee.push("i-own-a-bird"),U.checked=!0})),J.append(Y,R,G,V,K,U);const te=e("button","btn-save-my-home","btn-save-my-home","Save");te.addEventListener("click",(()=>{const t={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),typeOfHome:Q,homeConditions:Z,tenatsAtHome:X,otherAnimals:ee})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",t).then((e=>e.json())).then((t=>{console.log(t);const n=document.querySelector(".fieldset-condition-my-home"),i=e("p","comment-saved-settings");i.textContent="Settings saved",i.setAttribute("style","margin-top:350px"),null==n||n.append(i),setTimeout((()=>{null==n||n.removeChild(i)}),2e3)}))}));const ne={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})};return fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",ne).then((e=>e.json())).then((e=>{"Apartment in a block/house"==e.petsitterData.typeOfHome?g.checked=!0:"Apartment with garden (first floor)"==e.petsitterData.typeOfHome?y.checked=!0:"House with garden"==e.petsitterData.typeOfHome?w.checked=!0:"Apartment with balcony"==e.petsitterData.typeOfHome?x.checked=!0:"House"==e.petsitterData.typeOfHome&&(E.checked=!0),Z=e.petsitterData.homeConditions,e.petsitterData.homeConditions.includes("animals-can-sleep-in-the-bed")&&(C.firstChild.checked=!0,C.checked=!0),e.petsitterData.homeConditions.includes("windows-protected-by-mesh")&&(H.firstChild.checked=!0,H.checked=!0),e.petsitterData.homeConditions.includes("balcony-secured-with-netting")&&(D.firstChild.checked=!0,D.checked=!0),e.petsitterData.homeConditions.includes("no-plants-toxic-to-animals-in-the-house")&&(O.firstChild.checked=!0,O.checked=!0),e.petsitterData.homeConditions.includes("the-apartment-has-a-playpen")&&(I.firstChild.checked=!0,I.checked=!0),e.petsitterData.homeConditions.includes("the-building-has-an-elevator")&&(P.firstChild.checked=!0,P.checked=!0),e.petsitterData.homeConditions.includes("no-smoking-inside")&&(N.firstChild.checked=!0,N.checked=!0),e.petsitterData.homeConditions.includes("animals-can-climb-on-the-furniture")&&($.firstChild.checked=!0,$.checked=!0),X=e.petsitterData.tenatsAtHome,e.petsitterData.tenatsAtHome.includes("children-live-in-the-house")&&(_.firstChild.checked=!0,_.checked=!0),e.petsitterData.tenatsAtHome.includes("there-are-elderly-people-living-in-the-house")&&(B.firstChild.checked=!0,B.checked=!0),e.petsitterData.tenatsAtHome.includes("women-live-in-the-house")&&(W.firstChild.checked=!0,W.checked=!0),e.petsitterData.tenatsAtHome.includes("men-live-in-the-house")&&(z.firstChild.checked=!0,z.checked=!0),ee=e.petsitterData.otherAnimals,e.petsitterData.otherAnimals.includes("i-own-a-dog")&&(R.firstChild.checked=!0,R.checked=!0),e.petsitterData.otherAnimals.includes("i-am-settling-a-cat")&&(G.firstChild.checked=!0,G.checked=!0),e.petsitterData.otherAnimals.includes("i-own-a-rodent(s)")&&(V.firstChild.checked=!0,V.checked=!0),e.petsitterData.otherAnimals.includes("i-own-a-fish")&&(K.firstChild.checked=!0,K.checked=!0),e.petsitterData.otherAnimals.includes("i-own-a-bird")&&(U.firstChild.checked=!0,U.checked=!0)})),i.append(te),i},new((o=void 0)||(o=Promise))((function(e,n){function s(e){try{c(a.next(e))}catch(e){n(e)}}function r(e){try{c(a.throw(e))}catch(e){n(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}c((a=a.apply(t,i||[])).next())}));var t,i,o,a}();u.append(t)}))));const p=e("div","btn-profile-my-pets btn-profile-select","","My Pets");a.append(p),p.addEventListener("click",(()=>ie(this,void 0,void 0,(function*(){u.innerHTML="";const e=yield te();u.append(e)})))),a.addEventListener("click",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.classList.contains("btn-profile-select")){const e=document.querySelectorAll(".btn-profile-select");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.classList.add("active")}}));const u=e("div","common-info-block");t.append(u);const h=yield ce();u.append(h)}))}function ce(){return ie(this,void 0,void 0,(function*(){const t=e("div","basic-info-block"),n=e("div","photo-profile-petsit-block");t.append(n);const i=e("h4","title-photo-profile-block");i.textContent="Photo";const o=e("div","photo-text-profile-block");n.append(i,o);const a=e("div","photo-container profile-photo-container");a.setAttribute("style","background-image: url('../img/icons/photo.png')");const s=e("input","button-add-photo");s.type="file",s.accept=".png,.jpg,.jpeg",s.id="photo",s.onchange=()=>{if(s.files){const e=new FormData;return e.append("image",s.files[0],s.files[0].name),fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/register/add-photo",{method:"POST",body:e}).then((e=>e.json())).then((e=>{a.setAttribute("style",`background-image: url('https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}'); background-blend-mode:normal`),ae.avatarPath=`https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}`})),s.files[0]}};const r=e("label","label-add-photo");r.setAttribute("for","photo"),r.textContent="Add photo",a.append(s,r);const c=e("div","text-photo-profile","","A profile photo allows other members of the Petsi community to get to know you. It is especially important for your relationship with customers, as it will make it easier for you to get to know each other when you first meet.");o.append(a,c);const d=e("div","profile-about-me-block");t.append(d);const p=e("h2","profile-about-me-title","","About me");d.append(p);const l=e("textarea","input-motto-profile input-text-profile","input-motto-profile");l.placeholder="Motto",l.maxLength=100,l.wrap="soft",d.append(l);const u=e("div","count-motto-profile","","0/100");d.append(u),l.addEventListener("input",(()=>{u.innerHTML="",u.innerHTML=`${l.value.length}/100`}));const h=e("div","motto-profile-text","","A motto is a brief description of what is most important to you.  We'll display it in the search results so that in addition to your picture it can draw the client's attention to your services");d.append(h);const v=de("Make yourself known to carers","In min. 300 characters introduce yourself","Write a few sentences about yourself that will make caregivers choose you. Below are our hints:",G,"petsit-about-text");d.append(v);const m=de("What sets me apart?","Enter your special skills or experience here. If you can, boast about your training or courses, present your experience with difficult dogs, e.g. shelter dogs, tell about additional animal-related activities.","Make yourself even better known:",V,"petsit-advantages");d.append(m);const g=e("fieldset","additional-qualification-block text-profile-medium");g.innerHTML="<legend class = 'text-profile-medium'>Choose your additional qualification:</legend>",d.append(g);const f=e("div","checkbox-div");f.innerHTML='<input type="checkbox" id="behaviorist" name="behaviorist"><label for="behaviorist">Behaviorist</label>',g.append(f);const y=e("div","checkbox-div");y.innerHTML='<input type="checkbox" id="petsit-course" name="petsit-course"><label for="petsit-course">Completed petsitter course</label>',g.append(y);const b=e("div","checkbox-div");b.innerHTML='<input type="checkbox" id="veterinary-technician" name="veterinary-technician"><label for="veterinary-technician">Veterinary technician</label>',g.append(b);const w=e("div","checkbox-div");w.innerHTML='<input type="checkbox" id="first-aid-course" name="first-aid-course"><label for="first-aid-course">Completed first aid course</label>',g.append(w),setTimeout((()=>{const e=document.getElementById("behaviorist"),t=document.getElementById("petsit-course"),n=document.getElementById("veterinary-technician"),i=document.getElementById("first-aid-course");e.addEventListener("input",(()=>{if(e.checked)se.push("Behaviorist");else{const e=se.indexOf("behaviorist");se.splice(e,1)}})),t.addEventListener("input",(()=>{if(t.checked)se.push("Petsit-course");else{const e=se.indexOf("petsit-course");se.splice(e,1)}})),n.addEventListener("input",(()=>{if(n.checked)se.push("Veterinary-technician");else{const e=se.indexOf("veterinary-technician");se.splice(e,1)}})),i.addEventListener("input",(()=>{if(i.checked)se.push("First-aid-course");else{const e=se.indexOf("first-aid-course");se.splice(e,1)}}))}),100);const k=e("button","btn-profile-save","btn-save-basic-info","Save");return k.addEventListener("click",(()=>{const t=document.getElementById("petsit-about-text"),n=document.getElementById("petsit-advantages"),i={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:`${localStorage.getItem("curr-user-id")}`,avatarPath:ae.avatarPath,aboutMe:l.value,carers:t.value,skills:n.value,qualifications:se})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",i).then((e=>e.json())).then((()=>{const t=e("p","comment-saved-settings");t.textContent="Settings saved",d.append(t),setTimeout((()=>{location.reload()}),2e3)}))})),d.append(k),t}))}function de(t,n,i,o,a){const s=e("div","block-text-input-info"),r=e("div","text-profile-medium","",`${t}`);s.append(r);const c=e("div","text-profile","",`${n}`);s.append(c);const d=e("div","input-text-block-wrapper");s.append(d);const p=e("textarea","input-text-profile textarea-profile-block",`${a}`);d.append(p),p.maxLength=300;const l=e("div","text-block-profile-wrapper");d.append(l);const u=e("div","text-3-wrapper-profile");l.append(u);const h=new Image;h.src="img/iCharacter.svg",u.append(h);const v=e("ul","text-profile-medium","",`${i}`);return u.append(v),o.forEach((t=>{const n=e("li","text-profile text-profile-li","",`* ${t}`);l.append(n)})),s}function pe(){return ie(this,void 0,void 0,(function*(){return document.body.innerHTML="",yield E(document.body),re(),document.body.append(oe),A(document.body),document.body}))}var le=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const ue=e("section","section-owner-pets");function he(){return le(this,void 0,void 0,(function*(){return document.body.innerHTML="",yield x(document.body),function(){le(this,void 0,void 0,(function*(){ue.innerHTML="";const t=e("div","my-pets-owner-wrapper"),n=yield te();t.append(n),ue.append(t)}))}(),document.body.append(ue),A(document.body),document.body}))}var ve=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};function me(){return ve(this,void 0,void 0,(function*(){const t=(yield l()).item;let n,i=(new Date).getMonth(),o=(new Date).getFullYear();document.body.innerHTML="";const a=[];E(document.body);const s=e("section","section-petsit-profile-basic");document.body.append(s);const r=e("div","section-profile-basic-block");s.append(r);const c=e("div","profile-title-wrapper");r.append(c);const d=e("h2","my-profile-text-title","","My calendar");c.append(d);const p=e("div","block-calendars"),u=e("div","block-calendar "),h=e("div","block-calendar-top "),v=e("h2","my-profile-text-title ","","Work days"),m=e("p","tooltip","","?"),g=e("span","tooltiptext","","Mark the days when you want to relax"),f=e("div","block-Month"),y=e("div","block-Year"),b=e("span","preMonth","preMonth","â€¹"),w=e("p","","workMonth",`${ge(i)}`),k=e("span","nextMonth","nextMonth","â€º"),x=e("span","preYear","preYear","â€¹"),L=e("p","","",`${o}`),T=e("span","nextYear","nextYear","â€º"),S=e("div");fe(S,o,i);const M=e("button","rectangle","","SAVE");function C(e){return ve(this,void 0,void 0,(function*(){if(e){const t=u.getElementsByTagName("TD"),n=i+1<10?"0"+(+i+1):String(i+1),a=e.filter((e=>e.slice(0,4).includes(String(o))&&e.slice(5,7).includes(String(n))));Array.prototype.forEach.call(t,(function(e){for(let t=0;t<a.length;t++)+e.innerHTML==+a[t].slice(8)&&e.setAttribute("class","noActive")}))}}))}return s.append(p),p.append(u),u.append(h),h.append(v),h.append(m),m.append(g),h.append(f),f.append(b),f.append(w),f.append(k),h.append(y),y.append(x),y.append(L),y.append(T),u.append(S),u.append(M),A(document.body),u.addEventListener("click",(e=>{if(e.target&&e.target instanceof HTMLElement){const n=e.target;if("TD"!=n.tagName)return;(t=n).classList.contains("noActive")?(t.classList.remove("noActive"),t.classList.add("activeDay")):t.classList.contains("activeDay")&&(t.classList.add("noActive"),t.classList.remove("activeDay"))}var t})),M.addEventListener("click",(()=>{const e=document.getElementsByClassName("noActive");for(let t=0;t<e.length;t++){const o=i+1<10?"0"+(+i+1):String(i+1),s=Number(e[t].innerHTML)<10?"0"+e[t].innerHTML:String(e[t].innerHTML),r=L.innerHTML+"-"+o+"-"+s;a.push(r);const c=new Set(a),d=Array.from(c);n=d.sort(((e,t)=>e>t?1:-1)),console.log("noActvDay-",n)}const t={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),availableDates:n})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",t).then((e=>e.json()))})),b.addEventListener("click",(()=>{i--,-1==i&&(i=11),w.innerHTML=`${ge(i)}`})),k.addEventListener("click",(()=>{i++,12==i&&(i=0),w.innerHTML=`${ge(i)}`})),x.addEventListener("click",(()=>{o--,o==(new Date).getFullYear()-2&&(o=(new Date).getFullYear()-1),o==(new Date).getFullYear()-1&&(x.style.visibility="hidden"),L.innerHTML=`${o}`,T.style.visibility="visible"})),T.addEventListener("click",(()=>{o++,o==(new Date).getFullYear()+2&&(o=(new Date).getFullYear()+1),o==(new Date).getFullYear()+1&&(T.style.visibility="hidden"),L.innerHTML=`${o}`,x.style.visibility="visible"})),h.addEventListener("click",(e=>ve(this,void 0,void 0,(function*(){const t=(yield l()).item;e.target&&e.target instanceof HTMLElement&&"SPAN"==e.target.tagName&&(fe(S,o,i),C(t.petsitterData.availableDates),console.log("*****---petsitterDates.availableDates",t.petsitterData.availableDates))})))),C(t.petsitterData.availableDates),document.body}))}function ge(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}function fe(e,t,n){const i=n,o=new Date(t,i);let a="<table><tr><th>Mon</th><th>Tues</th><th>Wed</th><th>Thurs</th><th>Fri</th><th>Sat</th><th>Sun</th></tr><tr>";for(let e=0;e<ye(o);e++)a+="<td></td>";for(;o.getMonth()==i;)a+="<td class='activeDay'>"+o.getDate()+"</td>",ye(o)%7==6&&(a+="</tr><tr>"),o.setDate(o.getDate()+1);if(0!=ye(o))for(let e=ye(o);e<7;e++)a+="<td></td>";a+="</tr></table>",e.innerHTML=a}function ye(e){let t=e.getDay();return 0==t&&(t=7),t-1}function be(e,t){return n=this,i=void 0,a=function*(){let n=e;if(console.log("filter-------    ",t),t.animal)switch(t.animal){case"Small(up to 6 kg)":case"Large(over 6 kg)":t.animal="cat";break;case"Micro(up to 5 kg)":case"Small(6 - 15 kg)":case"Medium(16 - 25 kg)":case"Large(26 - 35 kg)":case"Giant(over 36 kg)":t.animal="dog"}switch(n=n.filter((e=>e.petsitterData.services.servicesArr.includes(t.type))),0!==t.city.length&&(n=n.filter((e=>e.city.toLowerCase().includes(t.city.toLowerCase())))),t.type){case"hotel":t.priceMax&&(n=n.filter((e=>+e.petsitterData.services.hotel.price<=Number(t.priceMax)))),t.priceMin&&(n=n.filter((e=>+e.petsitterData.services.hotel.price>=Number(t.priceMin)))),t.animal.length&&(n=n.filter((e=>e.petsitterData.services.hotel.animals.includes(t.animal.toLowerCase()))));break;case"walking":console.log("999"),t.priceMax&&(n=n.filter((e=>+e.petsitterData.services.walking.price<=Number(t.priceMax)))),t.priceMin&&(n=n.filter((e=>+e.petsitterData.services.walking.price>=Number(t.priceMin)))),t.animal.includes("cat")&&(n=[]);break;case"homevisits":t.priceMax&&(n=n.filter((e=>+e.petsitterData.services.homevisits.price<=Number(t.priceMax)))),t.priceMin&&(n=n.filter((e=>+e.petsitterData.services.homevisits.price>=Number(t.priceMin)))),t.animal.length&&(n=n.filter((e=>e.petsitterData.services.homevisits.animals.includes(t.animal.toLowerCase()))))}const i=[`${t.dateFrom}`],o=new Date(`${t.dateFrom.slice(0,4)}, ${+t.dateFrom.slice(5,7)}, ${+t.dateFrom.slice(8)}`),a=+(new Date(`${t.dateTo.slice(0,4)}, ${+t.dateTo.slice(5,7)}, ${+t.dateTo.slice(8)}`).getTime()-o.getTime())/60/60/24/1e3;if(a>0){let e=new Date(o);for(let t=0;t<a;t++){e=new Date(e.setDate(e.getDate()+1));const t=`${e.getFullYear()}-${e.getMonth()+1<10?"0"+(+e.getMonth()+1):String(e.getMonth()+1)}-${+e.getDate()<10?"0"+e.getDate():e.getDate()}`;i.push(t)}}return n=n.filter((e=>e.petsitterData.availableDates.filter((e=>{if(!i.includes(e))return console.log("+++++++++++++++++++++++++"),!0})))),console.log("result------",n),n},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{c(a.next(e))}catch(e){t(e)}}function r(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}c((a=a.apply(n,i||[])).next())}));var n,i,o,a}function we(t,n,i){var o,a,s,r,c;return a=this,s=void 0,c=function*(){t.innerHTML="";let a=1;switch(String(null===(o=i.match(/\d/g))||void 0===o?void 0:o.join(""))){case"30":a=1;break;case"1":a=2;break;case"15":a=3;break;case"2":a=4}for(let i=0;i<n.length;i++){const o=e("div","containerSearchCart"),s=e("div","fotoSearchCart"),r=new Image;n[i].avatarPath?r.src=`${n[i].avatarPath}`:(r.src="./img/icons/photo.png",r.setAttribute("class","noPhoto"));const c=e("div","descriptionSearchCart"),d=e("div","priceSearchCart"),p=e("p","","",`${i+1}. ${n[i].firstName}`),l=e("p","","",`${n[i].city}`),u=e("p","starsSearchCart");n[i].petsitterData.rate?u.innerHTML="â˜…".repeat(+n[i].petsitterData.rate):u.innerHTML="no ratings";const h=e("p","","",`${n[i].petsitterData.level}`),v=e("p","priceSearchCart","",`${n[i].petsitterData.services.hotel.price} p.`);n[i].petsitterData.services.hotel.price?v.innerHTML=`${n[i].petsitterData.services.hotel.price} p.`:v.innerHTML="-";const m=e("p","priceSearchCart");n[i].petsitterData.services.walking.price?m.innerHTML=+n[i].petsitterData.services.walking.price*a+" p.":m.innerHTML="-";const g=e("p","priceSearchCart");n[i].petsitterData.services.homevisits.price?g.innerHTML=`${n[i].petsitterData.services.homevisits.price} p.`:g.innerHTML="-";const f=e("div","typeSearchCart");for(let t=0;t<n[i].petsitterData.services.servicesArr.length;t++){const o=e("p","typeOfService","",`${n[i].petsitterData.services.servicesArr[t]}`);f.append(o)}let y=e("p","");n[i].petsitterData.aboutMe?y.innerHTML=`${n[i].petsitterData.aboutMe}`:y=e("p","","","");const b=e("button","btnSearchCart rectangle",`${n[i]._id}`,"meet me");b.addEventListener("click",(()=>{const e=b.id;history.pushState("","",`/petsitter/n/${e}`),window.dispatchEvent(new Event("popstate"))})),t.append(o),o.append(s),o.append(c),o.append(d),s.append(r),c.append(p),c.append(l),c.append(u),c.append(h),c.append(f),c.append(y),d.append(v),d.append(m),d.append(g),d.append(b)}return t},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(n,i)}o((c=c.apply(a,s||[])).next())}))}var ke=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};function xe(){return ke(this,void 0,void 0,(function*(){document.body.innerHTML="",localStorage.getItem("curr-user-id")?x(document.body):L(document.body);const n=e("main"),i=e("div","blockFilter","",""),o=e("div","blockPetsitters"),a=e("div","blockMap","map");a.innerHTML='<iframe id="ifr" src="https://www.google.com/maps/d/embed?mid=1J_67mzYKVayzRdUrsUQfRGItQFGZoN0&ehbc=2E312F"></iframe>';const s=e("h3","","","What service do you need?"),r=e("hr"),c=e("p","","","The type of service"),d=e("div","divType"),l=e("div","typeBoxN ActivTypeBoxN Accomodation","hotel","Accomodation"),u=e("div","typeBoxN Walk","walking","Walk"),h=e("div","typeBoxN HomeVisits","homevisits","Home visits"),v=e("div","box1"),m=e("p","nameInputBox","","Dog Cat"),g=e("div","petBox"),f=e("ul","menuPets");z(f);const y=t("text","petBoxInput"),b=new Image;b.src="img/down.svg";const w=e("div","box1"),k=e("p","nameInputBox","","Address"),E=e("div"),T=t("text","search");T.setAttribute("placeholder","city");const S=new Image;S.src="img/geoloc.svg";const M=e("div","deadlineBoxFromTo FromTo"),C=e("div","box1"),H=e("p","nameInputBox","","Deadline from"),D=e("div"),O=t("date","");O.value=J();const I=e("div","box1"),P=e("p","nameInputBox","","Deadline to"),N=e("div"),$=t("date");$.value=J();const q=e("div","box1 box2"),F=e("p","nameInputBox","","The duration of the walk"),j=e("div","petBox"),_=e("ul","menuPets"),B=e("li","menuWalkTime","","30 minutes"),Y=e("li","menuWalkTime","","1 hour"),R=e("li","menuWalkTime","","1.5 hours"),G=e("li","menuWalkTime","","2 hours"),V=t("text","petBoxInput");V.setAttribute("placeholder","30 minutes");const K=new Image;b.src="img/down.svg";const U=e("div"),Q=e("p","","","Price per night");U.append(Q);const Z=e("div","range-box1 range-box","rangeBox");U.append(Z);const X=t("range","input-range","rangePrice1");Z.append(X),X.setAttribute("min","0"),X.setAttribute("max","200"),X.setAttribute("step","1");const ee=t("range","input-range","rangePrice2");Z.append(ee),ee.setAttribute("type","range"),ee.setAttribute("min","0"),ee.setAttribute("max","200"),ee.setAttribute("step","1");const te=Z.getElementsByTagName("input");te[0].value=String(0),te[1].value=String(200);const ne=e("div","FromTo","",""),ie=e("p","","","0"),oe=e("p","","","200+");function ae(){const e=Z.getElementsByTagName("input");let t=parseFloat(e[0].value),n=parseFloat(e[1].value);if(t>n){const e=n;n=t,t=e}te[0].value=String(t),te[1].value=String(n),ie.innerHTML=String(t),oe.innerHTML=String(n)}const se=e("div","FromTo"),re=e("p","","","Filters"),ce=e("button","clear","","Clear");document.body.append(n),n.append(i),n.append(o),n.append(a),i.append(s),i.append(r),i.append(c),i.append(d),i.append(v),i.append(w),i.append(M),i.append(q),i.append(U),i.append(ne),i.append(se),d.append(l),d.append(u),d.append(h),v.append(m),v.append(g),g.append(y),g.append(b),g.append(f),w.append(k),w.append(E),E.append(T),E.append(S),M.append(C),M.append(I),C.append(H),C.append(D),D.append(O),I.append(P),I.append(N),N.append($),q.append(F),q.append(j),j.append(V),j.append(K),j.append(_),_.append(B),_.append(Y),_.append(R),_.append(G),ne.append(ie),ne.append(oe),se.append(re),se.append(ce),A(document.body);let de=l;function pe(e){e.classList.contains("typeBoxN")&&(de.classList.remove("ActivTypeBoxN"),de=e,de.classList.add("ActivTypeBoxN"))}const le={type:de.id,animal:y.value,city:T.value,dateFrom:O.value,dateTo:$.value,priceMin:te[0].value,priceMax:te[1].value,hours:V.value};if(W.type){switch(W.type){case"Accomodation":le.type="hotel";break;case"Walk":le.type="walking",q.style.display="block";break;case"Home visits":le.type="homevisits"}const e=document.getElementById(`${le.type}`);e&&pe(e)}W.date&&(le.dateFrom=W.date,O.value=W.date,$.value=W.date),W.city&&(le.city=W.city,T.value=W.city),W.pet&&(le.animal=W.pet,y.value=W.pet);const ue=(yield p(void 0,void 0,void 0,(function*(){const e=yield fetch("https://rs-clone-api-production-3ab8.up.railway.app/users/petsitters",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});return{item:yield e.json()}}))).item;we(o,yield be(ue,le),le.hours),g.addEventListener("click",(e=>ke(this,void 0,void 0,(function*(){if(e.target&&e.target instanceof HTMLElement){const t=e.target;"LI"==t.tagName&&(y.value=t.innerHTML,le.animal=t.innerHTML)}we(o,yield be(ue,le),le.hours)})))),j.addEventListener("click",(e=>ke(this,void 0,void 0,(function*(){if(e.target&&e.target instanceof HTMLElement){const t=e.target;"LI"==t.tagName&&(V.value=t.innerHTML,le.hours=V.value)}we(o,yield be(ue,le),le.hours)}))));const he=Z.getElementsByTagName("input");for(let e=0;e<he.length;e++)"range"===he[e].type&&(he[e].oninput=ae),we(o,yield be(ue,le),le.hours);return i.addEventListener("click",(e=>ke(this,void 0,void 0,(function*(){if(e.target&&e.target instanceof HTMLElement){const t=e.target;if(t.classList.contains("Walk")?q.style.display="block":(t.classList.contains("HomeVisits")||t.classList.contains("Accomodation"))&&(q.style.display="none"),t.classList.contains("ActivTypeBoxN"))return;pe(t),le.type=de.id}we(o,yield be(ue,le),le.hours)})))),ce.addEventListener("click",(()=>ke(this,void 0,void 0,(function*(){pe(l),$.value=J(),O.value=J(),T.value="",y.value="",te[0].value=String(0),te[1].value=String(200),ie.innerHTML=String(0),oe.innerHTML=String(200),le.type=de.id,le.animal="",le.city=T.value,le.dateFrom=O.value,le.dateTo=$.value,le.priceMin=te[0].value,le.priceMax=te[1].value,le.hours=V.value,we(o,yield be(ue,le),le.hours)})))),i.addEventListener("change",(()=>ke(this,void 0,void 0,(function*(){le.city=T.value,le.dateFrom=O.value,le.dateTo=$.value,le.priceMin=te[0].value,le.priceMax=te[1].value,we(o,yield be(ue,le),le.hours)})))),document.body}))}var Le=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const Ee=e("section","section-orders");let Ae=[],Te="";function Se(){return Le(this,void 0,void 0,(function*(){return document.body.innerHTML="",console.log(Te),yield E(document.body),yield function(){return Le(this,void 0,void 0,(function*(){Ee.innerHTML="";const t=(yield l()).item,n=e("div","section-orders-block");Ee.append(n);const i=e("h1","title-section-order","","My orders");n.append(i);const o=e("div","orders-items-wrapper");n.append(o),fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})}).then((e=>e.json())).then((n=>{Ae=n.orders;const i=document.querySelector(".section-orders"),o=e("div","orders-container");null==i||i.append(o);for(let i=0;i<Ae.length;i++){const a=e("div","item-order-block"),s=e("div","common-info-order-item-wrapper");a.append(s);const r=e("div","status-order-text","",`${Ae[i].status}`),c=e("div","service-order-text","",`${Ae[i].service}`),d=e("div","date-order-text");1===Ae[i].dates.length?d.textContent=Ae[i].dates[0]:d.textContent=`${Ae[i].dates[0]} - ${Ae[i].dates[1]}`;const p=e("div","pet-info-order-block"),l=e("div","owner-or-petsitter-block"),u=e("div","rate-petsitter-order");s.append(r,c,d,p,l);let h="";const v=e("img","user-order-photo");"PETSITTER"==n.role?(s.append(u),h=Ae[i].nameOfOwner,""===n.avatarOwner||void 0===n.avatarOwner?v.src="img/personLogo.svg":v.src=Ae[i].avatarOwner):"OWNER"==n.role&&(h=Ae[i].nameOfPetsitter,""===Ae[i].avatarPetsitter||void 0===Ae[i].avatarPetsitter?v.src="img/personLogo.svg":v.src=Ae[i].avatarPetsitter);const m=e("div","user-name-order","",`${h}`);l.append(v,m);const g=new Image;g.className="svg-pet-order";const f=e("div","pet-name-order","",`${Ae[i].pet}`);p.append(g,f),g.src="img/paw.svg";const y=e("div","link-view-profile-order","","View profile");y.addEventListener("click",(()=>{"OWNER"===t.role?(history.pushState("","",`/petsitter/n/${Ae[i].petsitterId}`),window.dispatchEvent(new Event("popstate"))):(history.pushState("","",`/owner/n/${Ae[i].ownerId}`),window.dispatchEvent(new Event("popstate")))})),s.append(y);const b=e("div","btn-order-info-chat","btn-order-info","Order info and chat");a.append(b),b.addEventListener("click",(()=>{"PETSITTER"===n.role?(Te=Ae[i].numberOfOrder,history.pushState("","",`/petsitter/orders/n/${Ae[i].numberOfOrder}`),window.dispatchEvent(new Event("popstate"))):(history.pushState("","",`/owner/orders/n/${Ae[i].numberOfOrder}`),window.dispatchEvent(new Event("popstate")))})),null==o||o.append(a)}}))}))}(),document.body.append(Ee),A(document.body),document.body}))}var Me=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const Ce=e("section","section-order-item");function He(t){return Me(this,void 0,void 0,(function*(){console.log(t);const n=(yield l()).item;Ce.innerHTML="";const i=e("div","section-item-orders-block");Ce.append(i),fetch("https://rs-clone-api-production-3ab8.up.railway.app/order/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({numberOfOrder:t})}).then((e=>e.json())).then((t=>Me(this,void 0,void 0,(function*(){console.log(t);const o=e("div","come-back-order-div");o.innerHTML="<span>â†</span> Return to orders",i.append(o),o.addEventListener("click",(()=>{"OWNER"===n.role?(history.pushState("","","/owner/orders"),window.dispatchEvent(new Event("popstate"))):(history.pushState("","","/petsitter/orders"),window.dispatchEvent(new Event("popstate")))}));const a=e("div","order-item-info-block");i.append(a);const s=yield function(t){return Me(this,void 0,void 0,(function*(){const n=e("div","block-common-info-order"),i=yield De("img/iCharacterGrey.svg",`Service type: ${t.service}`),o=yield De("img/calendar2Grey.svg",`Deadline: ${t.dates.join(" - ")}`),a=yield De("img/geoloc.svg",`${t.city}`),s=e("div","block-img-svg-pet-order-item"),r=new Image;r.className="svg-pet-order-info",r.src="img/paw.svg";const c=e("div","pet-text-order","",`${t.pet}`);return s.append(r,c),n.append(i,o,a,s),n}))}(t),r=e("div","block-price-order");r.append(yield function(t){return Me(this,void 0,void 0,(function*(){const n=e("div","price-order-block-wrapper"),i=e("h4","price-order-title","","Order price"),o=e("div","block-cost-module"),a=e("div","name-service-in-price","",t.service),s=e("div","price-per-day-order"),r=e("div","number-of-total-price");let c;if(1===t.dates.length)c=1,s.textContent=`1 x ${t.pricePerDay} byn`,r.textContent=`${t.pricePerDay} byn`;else{const e=new Date(t.dates[0]),n=new Date(t.dates[1]),i=Math.abs(n.getTime()-e.getTime()),o=Math.ceil(i/864e5);s.textContent=`${o} x ${t.pricePerDay} byn`;const a=o*Number(t.pricePerDay);r.textContent=`${a} byn`}o.append(a,s);const d=e("div","total-price-order-item-block"),p=e("div","total-price-order-item-title","","Total price");return d.append(p,r),n.append(i,o,d),n}))}(t));const c=e("div","user-info-block-order");c.append(yield function(t){return Me(this,void 0,void 0,(function*(){const n=e("div","user-block-wrapper"),i=(yield l()).item,o=e("h3","user-info-title-item-order");"OWNER"===i.role?o.textContent="The service will be provided by:":o.textContent="Pet owner:",n.append(o);const a=e("div","name-user-order-info-block");if(n.append(a),"OWNER"===i.role){const i=t.petsitterId,o=(yield u(i)).item;console.log("petsitInfo",o);const s=e("img","img-petsit-order-info-item");""===o.avatarPath||void 0===o.avatarPath?s.src="img/personLogo.svg":s.src=o.avatarPath;const r=e("div","name-of-petsitter-order-item","",t.nameOfPetsitter);r.setAttribute("style","margin-top:-20px");const c=e("div","link-view-profile-order","","View profile");c.setAttribute("style","margin-left:60px; margin-top:-40px"),c.addEventListener("click",(()=>{history.pushState("","",`/petsitter/n/${i}`),window.dispatchEvent(new Event("popstate"))})),a.append(s,r);const d=e("div","stars-rate-block"),p=e("div","send-review-and-rating","","Here you can evaluate the work of the petsitter and write a review."),l=e("div","star-block-item-order rating");let h=0;const v=e("i","rating-star far fa-star");v.dataset.star="0",v.addEventListener("click",(()=>{h=1}));const m=e("i","rating-star far fa-star");m.dataset.star="1",m.addEventListener("click",(()=>{h=2}));const g=e("i","rating-star far fa-star");g.dataset.star="2",g.addEventListener("click",(()=>{h=3}));const f=e("i","rating-star far fa-star");f.dataset.star="3",f.addEventListener("click",(()=>{h=4}));const y=e("i","rating-star far fa-star");y.dataset.star="4",y.addEventListener("click",(()=>{h=5})),l.append(v,m,g,f,y);const b=e("div","rating-block"),w=e("div","rating-order-title","","Your rating of petsitter is:  "),k=e("div","rating-count","","  0");let x;b.append(w,k),l.addEventListener("click",(e=>{const t=[...l.getElementsByClassName("rating-star")],n=t.length;if(e.target&&e.target instanceof HTMLElement&&e.target.classList.contains("rating-star"))if(x=Number(e.target.dataset.star),"rating-star far fa-star"===e.target.className)for(k.textContent=`${x+1}`;x>=0;--x)t[x].className="rating-star fas fa-star";else for(k.textContent=`${x}`;x<n;++x)t[x].className="rating-star far fa-star"}));const L=e("textarea","input-petsitter-review","input-review");L.placeholder="Leave your review here";const E=e("button","btn-save-rate-review","btn-save-review","Save Review and Rate");E.addEventListener("click",(()=>{if(0==h||""==L.value){const t=e("p","warning");t.textContent="Please, set star and fill the review field";const n=document.querySelector(".user-info-block-order");n.append(t),setTimeout((()=>{n.removeChild(t)}),2e3)}else fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",{method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:t.petsitterId,review:[`${t.nameOfOwner}`,`${L.value}`,h]})}).then((e=>e.json())).then((()=>{const t=e("p","warning");t.textContent="Review saved",t.setAttribute("style","color:green; padding-left:130px");const n=document.querySelector(".user-info-block-order");n.append(t),L.value="",setTimeout((()=>{n.removeChild(t)}),2e3)}))})),d.append(l,b),n.append(c,p,d,L,E)}if("PETSITTER"===i.role){const i=t.ownerId,o=(yield u(i)).item;console.log("ownerInfo",o);const s=e("img","img-petsit-order-info-item");""===o.avatarPath||void 0===o.avatarPath?s.src="img/personLogo.svg":s.src=o.avatarPath;const r=e("div","name-of-petsitter-order-item","",t.nameOfOwner);r.setAttribute("style","margin-top:-20px");const c=e("div","link-view-profile-order","","View profile");c.setAttribute("style","margin-left:60px; margin-top:-40px"),c.addEventListener("click",(()=>{history.pushState("","",`/owner/n/${i}`),window.dispatchEvent(new Event("popstate"))})),a.append(s,r),n.append(c)}return n}))}(t));const d=e("div","chat-block-order");d.append((t=>{const n=e("div","chat-container"),i=e("div","chat-title");i.textContent="Chat";const o=e("div","chat-current-message-container"),a=e("textarea","chat-current-message");a.placeholder="Text here",a.minLength=10,a.maxLength=170;const s=e("button","chat-send-message-btn"),r=e("button","chat-open-emoji-btn");function c(){if(""==a.value)return;const e=document.querySelector(".img-role-menu"),n=document.querySelector(".text-name-menu-role"),i=(new Date).toLocaleTimeString("en-US"),o={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:{avatarPath:e.src,name:null==n?void 0:n.textContent,text:`${a.value}`,date:i},orderNum:t.numberOfOrder})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/send-message",o).then((e=>e.json())).then((e=>{console.log(e),document.querySelector(".chat-messages-container").innerHTML="",p(e),a.value=""}))}a.addEventListener("keypress",(e=>{13===e.keyCode&&(e.preventDefault(),c())})),s.addEventListener("click",c),s.addEventListener("click",(()=>{l.classList.remove("visible")}));const d=e("div","chat-messages-container");function p(t){var n;for(let i=0;i<t.messages.length;i++){const o=e("div","message"),a=e("img","message-avatar");a.src=t.messages[i].avatarPath;const s=e("div","message-block"),r=e("div","message-and-name"),c=e("span","chat-username"),p=e("span","chat-user-text"),l=e("span","chat-time");l.textContent=`${t.messages[i].date}`,c.textContent=`${t.messages[i].name}`,p.textContent=`${t.messages[i].text}`,r.append(c,l),s.append(r,p),o.append(a,s),d.append(o);const u=null===(n=document.querySelector(".text-name-menu-role"))||void 0===n?void 0:n.textContent;t.messages[i].name==u&&(o.setAttribute("style","flex-direction:row-reverse"),s.setAttribute("style","align-items:flex-end"),r.setAttribute("style","flex-direction:row-reverse"))}if(t.messages.length<1){const t=e("p","no-message");t.textContent="No messages yet",d.append(t)}d.scrollTo(0,d.scrollHeight)}const l=e("div","emoji-container");r.addEventListener("mousemove",(()=>{l.classList.add("visible")})),o.addEventListener("mouseleave",(()=>{l.classList.remove("visible")}));const u=["ðŸ˜€","ðŸ˜","ðŸ˜Š","ðŸ™‚","ðŸ˜š","ðŸ˜˜","ðŸ˜Ž","ðŸ˜","ðŸ™„","ðŸ˜ ","ðŸ˜”","ðŸ™","ðŸ˜­","ðŸ¤¢","ðŸ˜¨","ðŸ˜º","ðŸ˜¸","ðŸ˜»","ðŸ˜¼","ðŸ‘","ðŸ‘€","â¤","ðŸŒ","ðŸŒˆ","ðŸ‘†"];o.append(a,r,l,s),n.append(i,d,o);for(let t=0;t<u.length;t++){const n=e("p","emoji-item");n.textContent=u[t],l.append(n),n.addEventListener("click",(()=>{a.value=`${a.value+n.textContent}`}))}fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/user",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id")})}).then((e=>e.json())).then((e=>{console.log(e),p(t)}));const h=setInterval((()=>{fetch("https://rs-clone-api-production-3ab8.up.railway.app/order/",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({numberOfOrder:t.numberOfOrder})}).then((e=>e.json())).then((t=>{console.log(t),d.innerHTML="",function(t){var n;for(let i=0;i<t.messages.length;i++){const o=e("div","message"),a=e("img","message-avatar");a.src=t.messages[i].avatarPath;const s=e("div","message-block"),r=e("div","message-and-name"),c=e("span","chat-username"),p=e("span","chat-user-text"),l=e("span","chat-time");l.textContent=`${t.messages[i].date}`,c.textContent=`${t.messages[i].name}`,p.textContent=`${t.messages[i].text}`,r.append(c,l),s.append(r,p),o.append(a,s),d.append(o);const u=null===(n=document.querySelector(".text-name-menu-role"))||void 0===n?void 0:n.textContent;t.messages[i].name==u&&(o.setAttribute("style","flex-direction:row-reverse"),s.setAttribute("style","align-items:flex-end"),r.setAttribute("style","flex-direction:row-reverse"))}if(t.messages.length<1){const t=e("p","no-message");t.textContent="No messages yet",d.append(t)}}(t)}))}),5e3);return window.addEventListener("popstate",(()=>{clearInterval(h)})),n})(t)),a.append(s,r,c,d)}))))}))}function De(t,n,i){return Me(this,void 0,void 0,(function*(){const o=e("div","block-info-order-wrapper"),a=new Image;a.src=t,a.className=`block-info-order-svg ${i}`,o.append(a);const s=e("div","text-block-info-order","",`${n}`);return o.append(s),o}))}function Oe(){return Me(this,void 0,void 0,(function*(){const e=window.location.href.substring(window.location.href.length-6);return document.body.innerHTML="",yield E(document.body),yield He(e),document.body.append(Ce),A(document.body),document.body}))}var Ie=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};function Pe(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}function Ne(e,t,n){const i=n,o=new Date(t,i);let a="<table><tr><th>Mon</th><th>Tues</th><th>Wed</th><th>Thurs</th><th>Fri</th><th>Sat</th><th>Sun</th></tr><tr>";for(let e=0;e<$e(o);e++)a+="<td></td>";for(;o.getMonth()==i;)a+="<td class='activeDay'>"+o.getDate()+"</td>",$e(o)%7==6&&(a+="</tr><tr>"),o.setDate(o.getDate()+1);if(0!=$e(o))for(let e=$e(o);e<7;e++)a+="<td></td>";a+="</tr></table>",e.innerHTML=a}function $e(e){let t=e.getDay();return 0==t&&(t=7),t-1}var qe=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const Fe=e("section","section-petsit-person");function je(){return qe(this,void 0,void 0,(function*(){return document.body.innerHTML="",yield E(document.body),function(t){qe(this,void 0,void 0,(function*(){Fe.innerHTML="";const i=(yield u(t)).item;console.log("userInfo",i);const o=e("div","petsit-person-block"),a=e("div","img-wall-wrapper"),r=e("img","img-walpaper-person");r.src="https://petsy.pl/_next/image/?url=%2F_next%2Fstatic%2Fmedia%2Fpetsitter_default_bg.b05b4509.webp&w=1920&q=75",r.alt="Pets",a.append(r),Fe.append(a);const c=e("div","img-name-petsit-person-block"),d=e("div","img-person-wrapper"),p=e("img","img-person-petsit");""===i.avatarPath||void 0===i.avatarPath?"Male"===i.petsitterData.gender?(p.src="img/images/manDog.jpg",p.style.background="#ffffff"):p.src="img/images/dogHaveFive.jpg":p.src=i.avatarPath,d.append(p);const h=e("div","petsit-name-qwalific-block"),v=e("h1","name-petsit-person","",`${i.firstName}`),m=e("h3","qualific-city-person-text","",`Professional petsitter, ${i.city}`);h.append(v,m),c.append(d,h);const g=e("div","common-info-person-block"),f=e("h4","text-about-me-title title-person","","Let's get to know each other better"),y=e("div","text-about-me-person person-text-common");void 0===i.petsitterData.carers||""===i.petsitterData.carers?y.textContent="No information":y.textContent=i.petsitterData.carers;const w=e("h4","title-person","","What sets me apart?"),k=e("div","person-text-common");void 0===i.petsitterData.skills||""===i.petsitterData.skills?k.textContent="No information":k.textContent=i.petsitterData.skills;const x=e("h4","title-person","","Additional qualifications"),L=e("div","qualific-person-block");void 0===i.petsitterData.qualifications||0===i.petsitterData.qualifications.length?L.textContent="No information":i.petsitterData.qualifications.forEach((t=>{const n=e("div","qualification-item","",t.split("-").join(" "));L.append(n)}));const E=e("h2","my-service-title","","My price list and range of services"),A=e("div","service-common-block-item-person"),T=e("div","title-price-service-block","",""),S=e("h3","titlle-services-person","","Overnight stay with a petsitter"),M=e("h3","titlle-services-person","",`${i.petsitterData.services.hotel.price} byn`),C=e("p","tooltip-text accom-tooltip","","Price per day per week"),H=e("img","tooltip-svg accomodation-tooltip-svg");H.src="img/iCharacterGrey.svg",H.addEventListener("mouseover",(()=>{C.classList.add("active")})),H.addEventListener("mouseout",(()=>{C.classList.remove("active")})),T.append(S,M,H,C);const D=e("div","title-btn-walk-block-person"),O=e("div","title-accom-kind-of-pet-person what-dog-walk-text","","Which pets will stay with me overnight"),I=e("img","arrow-down-person");I.src="img/svg/arrowDown.svg",D.append(O,I);const P=e("div","view-of-pet-block-wrapper"),N=e("div","service-area-text");void 0===i.petsitterData.services.hotel.animals||0===i.petsitterData.services.hotel.animals.length?N.textContent="No information":i.petsitterData.services.hotel.animals.forEach((t=>{const n=e("div","pet-item-hotel-person","",t);N.append(n)})),D.addEventListener("click",(()=>{P.classList.toggle("active")})),P.append(N),"true"===i.petsitterData.services.hotel.active?A.style.display="block":A.style.display="none",A.append(T,D,P);const $=e("div","service-common-block-item-person"),q=e("div","title-price-service-block","",""),F=e("h3","titlle-services-person","","A walk in your neighborhood"),j=e("h3","titlle-services-person","",`${i.petsitterData.services.walking.price} byn`),_=e("p","tooltip-text walk-tooltip","","Standard walk (30 min)"),B=e("img","tooltip-svg walk-tooltip-svg");B.src="img/iCharacterGrey.svg",q.append(F,j,B,_),B.addEventListener("mouseover",(()=>{_.classList.add("active")})),B.addEventListener("mouseout",(()=>{_.classList.remove("active")}));const W=e("div","title-btn-walk-block-person"),z=e("div","title-accom-kind-of-pet-person what-dog-walk-text","","See what dogs I walk"),J=e("img","arrow-down-person");J.src="img/svg/arrowDown.svg",W.append(z,J);const Y=e("div","view-of-pet-block-wrapper");W.addEventListener("click",(()=>{Y.classList.toggle("active")}));const R=e("div","dog-age-title dog-age-person","","Age of the dog"),G=e("div","area-btn-dog-age"),V=s("Puppy","< 1 year","age-btn age-btn-petsit-person"),K=s("Youngster","2 - 3 years","age-btn age-btn-petsit-person"),U=s("Adult","4 - 10 years","age-btn age-btn-petsit-person"),Q=s("Senior","> 11 years","age-btn age-btn-petsit-person");G.append(V,K,U,Q);const Z=G.querySelectorAll(".btn-dog-size");if(0!==i.petsitterData.services.walking.ageOfDogs.length){const e=i.petsitterData.services.walking.ageOfDogs;Z.forEach((t=>{const n=t.id;e.includes(n.toLowerCase())&&t.classList.add("active")}))}const X=e("div","dog-size-title","","Size of the dog"),ee=e("div","area-btn-dog-size"),te=s("Micro","< 5 kg","person-dog-size"),ie=s("Small","6 - 15 kg","person-dog-size"),oe=s("Medium","16 - 25 kg","person-dog-size"),ae=s("Large","26 - 35 kg","person-dog-size"),se=s("Giant","> 36 kg","person-dog-size");ee.append(te,ie,oe,ae,se);const re=ee.querySelectorAll(".person-dog-size");if(0!==i.petsitterData.services.walking.kindOfDogs.length){const e=i.petsitterData.services.walking.kindOfDogs;re.forEach((t=>{const n=t.id;e.includes(n.toLowerCase())&&t.classList.add("active")}))}const ce=e("div","dog-gender-title","","Gender of the dog"),de=e("div","gender-inputs-block person-pet-gender"),pe=n("checkbox","male","Male","Male","div-gender-inputs"),le=pe.querySelector("#male");le&&le.setAttribute("disabled","");const ue=n("checkbox","female","Female","Female","div-gender-inputs"),he=ue.querySelector("#female");he&&he.setAttribute("disabled",""),de.append(pe,ue),0!==i.petsitterData.services.walking.genderOfDogs&&i.petsitterData.services.walking.genderOfDogs.forEach((e=>{const t=de.querySelector(`#${e}`);null==t||t.setAttribute("checked","")})),Y.append(R,G,X,ee,ce,de);const ve=e("div","title-btn-walk-block-person"),me=e("div","title-accom-kind-of-pet-person what-dog-walk-text","","Service area"),ge=e("img","arrow-down-person");ge.src="img/svg/arrowDown.svg",ve.append(me,ge);const fe=e("div","view-of-pet-block-wrapper"),ye=e("div","service-area-text");""===i.petsitterData.services.walking.serviceArea||void 0===i.petsitterData.services.walking.serviceArea?ye.textContent="No information":ye.textContent=i.petsitterData.services.walking.serviceArea,fe.append(ye),ve.addEventListener("click",(()=>{fe.classList.toggle("active")})),"true"===i.petsitterData.services.walking.active?$.style.display="block":$.style.display="none",$.append(q,W,Y,ve,fe);const be=e("div","service-common-block-item-person"),we=e("div","title-price-service-block","",""),ke=e("h3","titlle-services-person","","Home visits"),xe=e("h3","titlle-services-person","",`${i.petsitterData.services.homevisits.price} byn`),Le=e("p","tooltip-text walk-tooltip","","Standard visit (30 min)"),Ee=e("img","tooltip-svg walk-tooltip-svg");Ee.src="img/iCharacterGrey.svg",we.append(ke,xe,Ee,Le),Ee.addEventListener("mouseover",(()=>{Le.classList.add("active")})),Ee.addEventListener("mouseout",(()=>{Le.classList.remove("active")}));const Ae=e("div","title-btn-walk-block-person"),Te=e("div","title-accom-kind-of-pet-person what-dog-walk-text","","Which pets I will be able to visit"),Se=e("img","arrow-down-person");Se.src="img/svg/arrowDown.svg",Ae.append(Te,Se);const Me=e("div","view-of-pet-block-wrapper"),Ce=e("div","service-area-text");void 0===i.petsitterData.services.homevisits.animals||0===i.petsitterData.services.homevisits.animals.length?Ce.textContent="No information":i.petsitterData.services.homevisits.animals.forEach((t=>{const n=e("div","pet-item-hotel-person","",t);Ce.append(n)})),Ae.addEventListener("click",(()=>{Me.classList.toggle("active")})),Me.append(Ce);const He=e("div","title-btn-walk-block-person"),De=e("div","title-accom-kind-of-pet-person what-dog-walk-text","","Service area"),Oe=e("img","arrow-down-person");Oe.src="img/svg/arrowDown.svg",He.append(De,Oe);const $e=e("div","view-of-pet-block-wrapper"),je=e("div","service-area-text");""===i.petsitterData.services.homevisits.serviceArea||void 0===i.petsitterData.services.homevisits.serviceArea?je.textContent="No information":je.textContent=i.petsitterData.services.homevisits.serviceArea,$e.append(je),He.addEventListener("click",(()=>{$e.classList.toggle("active")})),"true"===i.petsitterData.services.homevisits.active?be.style.display="block":be.style.display="none",be.append(we,Ae,Me,He,$e),g.append(f,y,w,k,x,L,E,A,$,be);const _e=e("div");!function(t,n){Ie(this,void 0,void 0,(function*(){const i=(yield u(n)).item;console.log("userInfo",i);let o=(new Date).getMonth(),a=(new Date).getFullYear();const s=e("div","block-calendar calendar-petsit-item-page"),r=e("div","block-calendar-top "),c=e("h2","my-profile-text-title ","","Work days"),d=e("div","block-Month"),p=e("div","block-Year"),l=e("span","preMonth","preMonth","â€¹"),h=e("p","","workMonth",`${Pe(o)}`),v=e("span","nextMonth","nextMonth","â€º"),m=e("span","preYear","preYear","â€¹"),g=e("p","","",`${a}`),f=e("span","nextYear","nextYear","â€º"),y=e("div");function b(e){return Ie(this,void 0,void 0,(function*(){if(e){const t=s.getElementsByTagName("TD"),n=o+1<10?"0"+(+o+1):String(o+1),i=e.filter((e=>e.slice(0,4).includes(String(a))&&e.slice(5,7).includes(String(n))));Array.prototype.forEach.call(t,(function(e){for(let t=0;t<i.length;t++)+e.innerHTML==+i[t].slice(8)&&e.setAttribute("class","noActive")}))}}))}return Ne(y,a,o),t.append(s),s.append(r),r.append(c),r.append(d),d.append(l),d.append(h),d.append(v),r.append(p),p.append(m),p.append(g),p.append(f),s.append(y),l.addEventListener("click",(()=>{o--,-1==o&&(o=11),h.innerHTML=`${Pe(o)}`})),v.addEventListener("click",(()=>{o++,12==o&&(o=0),h.innerHTML=`${Pe(o)}`})),m.addEventListener("click",(()=>{a--,a==(new Date).getFullYear()-2&&(a=(new Date).getFullYear()-1),a==(new Date).getFullYear()-1&&(m.style.visibility="hidden"),g.innerHTML=`${a}`,f.style.visibility="visible"})),f.addEventListener("click",(()=>{a++,a==(new Date).getFullYear()+2&&(a=(new Date).getFullYear()+1),a==(new Date).getFullYear()+1&&(f.style.visibility="hidden"),g.innerHTML=`${a}`,m.style.visibility="visible"})),r.addEventListener("click",(e=>Ie(this,void 0,void 0,(function*(){e.target&&e.target instanceof HTMLElement&&"SPAN"==e.target.tagName&&(Ne(y,a,o),b(i.petsitterData.availableDates))})))),b(i.petsitterData.availableDates),document.body}))}(_e,t),g.append(_e);const Be=e("div","my-service-title home-condition-block","","What conditions are in my house?"),We=e("div","home-condition-item-block");if(void 0!==i.petsitterData.typeOfHome){const e=b("img/home.svg",i.petsitterData.typeOfHome.toLowerCase(),"home-item-condition");We.append(e)}const ze=i.petsitterData.homeConditions;ze&&0!==ze.length&&ze.forEach((e=>{const t=b("img/home.svg",e.split("-").join(" "),"home-item-condition");We.append(t)})),0==ze.length&&null==i.petsitterData.typeOfHome&&(We.style.display="none",Be.style.display="none");const Je=e("div","my-service-title home-condition-block","","Who lives in my house?"),Ye=e("div","home-condition-item-block"),Re=i.petsitterData.tenatsAtHome,Ge=i.petsitterData.otherAnimals;if(Re&&0!==Re.length&&Re.forEach((e=>{const t=b("img/profileLogo.svg",e.split("-").join(" "),"who-live-in-house-item");Ye.append(t)})),Ge&&0!==Ge.length&&Ge.forEach((e=>{const t=b("img/paw.svg",e.split("-").join(" "),"who-live-in-house-item");Ye.append(t)})),0==Ge.length&&0==Re.length&&(Ye.style.display="none",Je.style.display="none"),g.append(Be,We,Je,Ye),0!==i.pets.length){const t=e("div","my-service-title home-condition-block","","My pets"),n=e("div","petsit-pets-wrapper");i.pets.forEach((e=>qe(this,void 0,void 0,(function*(){const t=yield ne(e);n.append(t)})))),g.append(t,n)}if(o.append(g),!localStorage.getItem("curr-user-id")){const t=e("div","rezerve-order-block"),n=e("h2","reserve-title","","Book today"),i=e("div","come-registration-text");i.innerHTML='To place your order, please <a href="/auth/register/owner"> register</a> or <a href = "/auth/login">login</a>',t.append(n,i),o.append(t)}if(localStorage.getItem("curr-user-id")){const t=(yield l()).item;if("OWNER"!==t.role){const t=e("div","rezerve-order-block"),n=e("h2","reserve-title","","Book today"),i=e("div","come-registration-text");i.innerHTML='You are currently registered as a petsitter. To place your order, please <a href="/auth/register/owner"> register as a pet owner </a> or <a href = "/auth/login">login as a pet owner.</a>',t.append(n,i),o.append(t)}else{const n=e("div","rezerve-order-block"),a=e("h2","reserve-title","","Book today"),r=e("div","dog-size-title","","Type of service"),c=e("div","area-btn-service"),d=s("Accomodation","","person-service-reserve");"true"===i.petsitterData.services.hotel.active&&c.append(d);const p=s("Walk","","person-service-reserve");"true"===i.petsitterData.services.walking.active&&c.append(p);const l=s("Home visit","","person-service-reserve");"true"===i.petsitterData.services.homevisits.active&&c.append(l);const u=c.querySelectorAll(".btn-dog-size.person-service-reserve");if(1===u.length){const e=c.querySelector(".btn-dog-size.person-service-reserve");e&&(e.style.flexBasis="100%")}else 2===u.length&&u.forEach((e=>{e instanceof HTMLElement&&(e.style.flexBasis="50%")}));let h="",v="";c.addEventListener("click",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.classList.contains("person-service-reserve")){const e=document.querySelectorAll(".person-service-reserve");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.classList.add("active"),"Home visit"==t.id?(h="Home visit",v=`${i.petsitterData.services.homevisits.price}`):"Walk"==t.id?(h="Walk",v=`${i.petsitterData.services.walking.price}`):"Accomodation"==t.id&&(h="Accomodation",v=`${i.petsitterData.services.hotel.price}`)}document.querySelector(".btn-profile-save").style.pointerEvents="all"}));const m=e("div","dog-size-title","","Choose your pet");if(n.append(a,r,c,m),console.log("userInfoOwner",t),0===t.pets.length){const t=e("div","no-pet-text");t.innerHTML="You don't have any animals added. <span>Please add your pet</span> and continue with your order",n.append(t),t.addEventListener("click",(()=>{history.pushState("","","/pets/add"),window.dispatchEvent(new Event("popstate"))}))}else{const i=e("input","input-owner-pet order-input","owner-pet"),o=e("datalist","","pets-owner-variable");t.pets.forEach((t=>{const n=e("option","option-pet","",t.name);o.append(n)}));const a=e("p","city-text-error-registration text-error-registration","city-error","Enter your pet from list");i.after(a),i.type="text",i.name="af2Km9q",i.placeholder="My pet",i.setAttribute("list","pets-owner-variable"),i.setAttribute("autocomplete","off"),i.setAttribute("required",""),n.append(i,o)}const f=e("button","btn-profile-save","btn-order","Create an order");n.append(f),o.append(g,n);const y=e("div","dog-size-title","","Select the date you need"),b=e("div","date-inputs-block"),w=(new Date).toISOString().slice(0,-14),k=e("p","error-order-text","",""),x=e("input","input-date-order order-input","date-from-order");x.placeholder="From",x.type="date",x.name="date",x.value=w,x.setAttribute("required","");const L=e("p","under-input-text from-text","","From"),E=e("input","input-date-order order-input","date-to-order");E.placeholder="To",E.type="date",E.name="date",E.value=w,E.setAttribute("required","");const A=e("p","under-input-text to-text","","To"),T=e("input","input-date-order order-input","date-walk");T.placeholder="Date for walk",T.type="date",T.name="date",T.value=w,T.setAttribute("required","");const S=e("p","under-input-text walk-date-text","","Walk dates");b.append(x,L,E,A),b.addEventListener("change",(e=>{e.target&&e.target instanceof HTMLInputElement&&e.target.classList.contains("input-date-order")&&(k.innerHTML="",e.target.value<w?(k.innerHTML="Incorrect date",e.target.style.border="1px solid #f37059"):(k.innerHTML="",e.target.style.border="1px solid #ca96e1"))})),c.addEventListener("click",(e=>{const t=e.target;if(t instanceof HTMLElement&&t.classList.contains("person-service-reserve")){const e=document.querySelectorAll(".person-service-reserve");for(let t=0;t<e.length;t++)e[t].classList.remove("active");t.classList.add("active");const n=t.id;"Accomodation"===n||"Home visit"===n?(b.innerHTML="",b.append(x,L,E,A)):(b.innerHTML="",b.append(T,S))}})),n.append(y,b,k),0===t.pets.length&&(f.disabled=!0);const M=n.querySelectorAll(".order-input"),C=n.querySelectorAll(".input-date-order");f.addEventListener("click",(()=>{let e=0,n=0,o=0;if(M.forEach((t=>{t instanceof HTMLInputElement&&(t.checkValidity()?e+=0:e+=1)})),u.forEach((e=>{e.classList.contains("active")?n+=1:n+=0})),C.forEach((e=>{e instanceof HTMLInputElement&&(e.value<w?o+=1:o+=0)})),0===e&&1===n&&0===o){k.innerHTML="";const e=function(e,t){let n="";for(let e=0;e<6;e++){const e=0+10*Math.random();n+=Math.floor(e)}return n}(),n=document.querySelectorAll(".input-date-order"),o=[];for(let e=0;e<n.length;e++)o.push(n[e].value);const a=document.querySelector(".input-owner-pet"),s={numberOfOrder:e,status:"New",petsitterId:i._id,ownerId:t._id,pet:a.value,nameOfOwner:`${t.firstName} ${t.lastName}`,nameOfPetsitter:`${i.firstName} ${i.lastName}`,dates:o,service:h,pricePerDay:v,messages:[],city:`${i.city}`},r={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:t._id,order:s})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",r).then((e=>e.json())).then((e=>console.log(e)));const c={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:i._id,order:s})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",c).then((e=>e.json())).then((e=>console.log(e))).then((()=>{history.pushState("","","/owner/orders"),window.dispatchEvent(new Event("popstate"))}))}else k.innerHTML="",k.innerHTML="Select and fill in all fields",console.log("numberActivBtn",n),console.log("numberOfInvalidInput",e)})),n.append(f),o.append(n)}}Fe.append(c,o)}))}(window.location.pathname.split("/")[3]),document.body.append(Fe),A(document.body),document.body}))}var _e=function(e,t,n,i){return new(n||(n=Promise))((function(o,a){function s(e){try{c(i.next(e))}catch(e){a(e)}}function r(e){try{c(i.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,r)}c((i=i.apply(e,t||[])).next())}))};const Be=e("section","section-owner-person");function We(){return _e(this,void 0,void 0,(function*(){return document.body.innerHTML="",yield E(document.body),function(t){_e(this,void 0,void 0,(function*(){Be.innerHTML="";const n=(yield u(t)).item;console.log("userInfo",n);const i=e("div","petsit-person-block-owner"),o=e("div","img-wall-wrapper"),a=e("img","img-walpaper-person");a.src="https://petsy.pl/_next/image/?url=%2F_next%2Fstatic%2Fmedia%2Fpetsitter_default_bg.b05b4509.webp&w=1920&q=75",a.alt="Pets",o.append(a),Be.append(o);const s=e("div","img-name-petsit-person-block"),r=e("div","img-person-wrapper"),c=e("img","img-person-petsit");""===n.avatarPath||void 0===n.avatarPath?(c.src="img/images/peopleWithPet.jpg",c.style.background="#ffffff"):c.src=n.avatarPath,r.append(c);const d=e("div","petsit-name-qwalific-block"),p=e("h1","name-petsit-person","",`${n.firstName}`),l=e("h3","qualific-city-person-text","",`Pet owner, ${n.city}`);d.append(p,l),s.append(r,d);const h=e("div","contact-info-title","","Contact information"),v=e("div","phone-number-owner","",`Phone number: ${n.phone}`),m=e("div","pet-title-owner-page","","Pets"),g=e("div","pets-owner-block");0!==n.pets.length&&n.pets.forEach((e=>_e(this,void 0,void 0,(function*(){const t=yield ne(e);g.append(t)})))),i.append(h,v,m,g),Be.append(s,i)}))}(window.location.pathname.split("/")[3]),document.body.append(Be),A(document.body),document.body}))}const ze={birth:"",gender:"",services:[],address:"",avatarPath:""};function Je(){return n=this,i=void 0,a=function*(){const n=(yield l()).item,i={email:n.email,password:n.password,firstName:n.firstName,lastName:n.lastName,phone:n.phone,city:n.city,address:n.petsitterData.address,birth:n.petsitterData.birth,role:n.role,gender:n.petsitterData.gender,avatarPath:n.avatarPath};console.log("objData",i),document.body.innerHTML="",E(document.body);const o=e("section","section-petsit-profile-basic");document.body.append(o);const a=e("div","section-profile-basic-block");o.append(a);const s=e("div","profile-title-wrapper");a.append(s);const r=e("h2","my-profile-text-title","","Account settings");s.append(r);const c=e("div","left-right-settings"),d=e("div","left-settings"),p=e("div","right-settings");a.append(c),c.append(d),c.append(p);const u=e("h3","title-child-settings","","Personal data");d.append(u);const h=e("div","old-date-settings"),v=e("div","container"),m=e("div",""),g=e("p","","","E-mail"),f=e("p","","",`${i.email?i.email:""}`),y=e("div","","",""),b=e("button","btnSetChange ","","change");d.append(h),h.append(v),v.append(m),v.append(y),m.append(g),m.append(f),y.append(b),b.addEventListener("click",(()=>{v.style.display="none",h.style.backgroundColor="rgb(232, 244, 253)";const n=e("div",""),o=e("p","title-main","","Change email"),a=e("p","","","E-mail"),s=t("email","");s.value=`${i.email?i.email:""}`;const r=e("p","","","The change of the e-mail address must be confirmed by entering the current account password."),c=e("p","","","Current password"),d=t("password","");d.value="";const p=e("div","btns-settings"),l=e("button","btnSetChange","","Save"),u=e("button"," btnSetChange","","Cancel");h.append(n),n.append(o),n.append(a),n.append(s),n.append(r),n.append(c),n.append(d),n.append(p),p.append(l),p.append(u),u.addEventListener("click",(()=>{v.style.display="flex",n.style.display="none",h.style.backgroundColor="#fff"}))}));const w=e("div","old-date-settings"),k=e("div","container"),x=e("div",""),L=e("p","","","Current password"),T=e("p","","","****"),S=e("div","","",""),M=e("button","btnSetChange","","change");d.append(w),w.append(k),k.append(x),k.append(S),x.append(L),x.append(T),S.append(M),M.addEventListener("click",(()=>{k.style.display="none",w.style.backgroundColor="rgb(232, 244, 253)";const n=e("div",""),i=e("p","title-main","","Change Password"),o=e("p","","","Current password"),a=t("password",""),s=e("p","","","A new password"),r=t("password",""),c=e("p","","","Repeat password"),d=t("password",""),p=e("div","btns-settings"),l=e("button","btnSetChange","","Save"),u=e("button"," btnSetChange","","Cancel");w.append(n),n.append(i),n.append(o),n.append(a),n.append(s),n.append(r),n.append(c),n.append(d),n.append(p),p.append(l),p.append(u),u.addEventListener("click",(()=>{k.style.display="flex",n.style.display="none",w.style.backgroundColor="#fff"}))}));const C=e("div","old-date-settings"),H=e("div","first-child"),D=e("p","","","First name and last name"),O=e("div","div-input-text"),I=t("text","first-child");I.value=`${i.firstName?i.firstName:""} ${i.lastName?i.lastName:""} `;const P=e("div","","",""),N=e("button","btnSetChange","","change");if(d.append(C),C.append(H),C.append(P),H.append(D),H.append(O),O.append(I),P.append(N),"PETSITTER"==i.role){const n=e("div","old-date-settings block-sex"),o=e("div",""),a=e("p","","","Sex"),s=e("form","form-sex-settings","",""),r=e("div","div-input-radio"),c=t("radio","","Male");c.setAttribute("name","sex");const p=e("label","","","Man");p.setAttribute("for","Male");const l=e("div","div-input-radio"),u=t("radio","","Female");u.setAttribute("name","sex");const h=e("label","","","Woman");h.setAttribute("for","Female"),d.append(n),n.append(o),o.append(a),o.append(s),s.append(r),r.append(c),r.append(p),s.append(l),l.append(u),l.append(h);const v=n.querySelectorAll("input");for(let e=0;e<v.length;e++)i.gender==v[e].id&&(v[e].checked=!0);n.addEventListener("change",(()=>{for(let e=0;e<v.length;e++)v[e].checked&&(i.gender=String(v[e].id))}));const m=e("div","old-date-settings"),g=e("div","first-child"),f=e("p","","","Date of birth"),y=e("div","div-input-date"),b=t("date","");b.value=`${i.birth?i.birth:""}`,d.append(m),m.append(g),g.append(f),g.append(y),y.append(b),m.addEventListener("change",(()=>{i.birth=b.value}))}const $=e("h3","title-child-settings","","Contact details");d.append($);const q=e("div","old-date-settings"),F=e("div","first-child"),j=e("p","","","Phone number"),_=e("div","div-input-text"),B=t("text","");B.value=`+ ${i.phone?i.phone:""}`,d.append(q),q.append(F),F.append(j),F.append(_),_.append(B);const W=e("div","old-date-settings"),z=e("div","first-child"),J=e("p","","","Adress"),Y=e("div","div-input-text"),R=t("text","");R.value=`${i.address?i.address:""}`,d.append(W),W.append(z),z.append(J),z.append(Y),Y.append(R);const G=e("div","old-date-settings"),V=e("div","first-child"),K=e("p","","","City"),U=e("div","div-input-text"),Q=t("text","first-child");Q.value=`${i.city?i.city:""}`,d.append(G),G.append(V),V.append(K),V.append(U),U.append(Q);const Z=e("p","title-photo-profile-block","","Photo"),X=e("div","photo-text-profile-block");d.append(Z,X);const ee=e("div","photo-container profile-photo-container");ee.setAttribute("style","background-image: url('../img/icons/photo.png')");const te=e("input","button-add-photo");te.type="file",te.accept=".png,.jpg,.jpeg",te.id="photo",te.onchange=()=>{if(te.files){const e=new FormData;return e.append("image",te.files[0],te.files[0].name),fetch("https://rs-clone-api-production-3ab8.up.railway.app/auth/register/add-photo",{method:"POST",body:e}).then((e=>e.json())).then((e=>{ee.setAttribute("style",`background-image: url('https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}'); background-blend-mode:normal`),ze.avatarPath=`https://rs-clone-api-production-3ab8.up.railway.app/${e.filePath}`})),te.files[0]}};const ne=e("label","label-add-photo");ne.setAttribute("for","photo"),ne.textContent="Add photo",ee.append(te,ne),X.append(ee);const ie=e("button","rectangle","","Save");d.append(ie);const oe=e("div","text-block-profile-wrapper"),ae=e("div","text-3-wrapper-profile"),se=new Image;se.src="img/iCharacter.svg";const re=e("div",""),ce=e("div","text-profile-medium","","What information is shared with others?"),de=e("div","text-profile text-profile-li","","Petsy provides contact information (exact address) to petsitters who will provide you with the service of walking or pet care along with transport. This information is provided after confirming the service, i.e. after you have paid for it.");return p.append(oe),oe.append(ae),ae.append(se),ae.append(re),re.append(ce),re.append(de),A(document.body),ie.addEventListener("click",(()=>{var e;if(i.firstName=I.value.replace(/ +/g," ").trim().split(" ")[0],i.lastName=I.value.replace(/ +/g," ").trim().split(" ")[1],i.phone=null===(e=B.value.match(/\d/g))||void 0===e?void 0:e.join(""),"PETSITTER"==i.role){const e={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),address:R.value,city:Q.value,phone:i.phone,firstName:i.firstName,lastName:i.lastName,birth:i.birth,gender:i.gender})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",e).then((e=>e.json()))}if("OWNER"==i.role){const e={method:"PATCH",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({_id:localStorage.getItem("curr-user-id"),address:R.value,city:Q.value,phone:i.phone,firstName:i.firstName,lastName:i.lastName})};fetch("https://rs-clone-api-production-3ab8.up.railway.app/petsitter/add-data",e).then((e=>e.json()))}})),document.body},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{c(a.next(e))}catch(e){t(e)}}function r(e){try{c(a.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,r)}c((a=a.apply(n,i||[])).next())}));var n,i,o,a}(()=>{const e=[{path:"404",template:I},{path:"/auth/login",template:O},{path:"/auth/register/petsitter",template:$},{path:"/auth/register/owner",template:$},{path:"/owner/n",template:We},{path:"/owner/pets",template:he},{path:"/owner/orders/n",template:Oe},{path:"/petsitter/settings/personal-data",template:Je},{path:"/owner/settings/personal-data",template:Je},{path:"/owner/orders",template:Se},{path:"/petsitter/orders/n",template:Oe},{path:"/petsitter/orders",template:Se},{path:"/petsitter/n",template:je},{path:"/petsitter/profile/services/edit/accommodation",template:d},{path:"/petsitter/profile/services/edit/walk",template:d},{path:"/petsitter/profile/services/edit/drop-in",template:d},{path:"/petsitter/profile/basics",template:pe},{path:"/petsitter/calendar",template:me},{path:"/petsitter",template:H},{path:"/pets/add",template:m},{path:"/search",template:xe},{path:"/auth/register/form",template:B},{path:"/",template:Y}];function t(e){const{href:t}=e;history.pushState("","",t),window.dispatchEvent(new Event("popstate"))}document.addEventListener("click",(e=>{e.target instanceof HTMLAnchorElement&&(e.preventDefault(),t(e.target));const{parentElement:n}=e.target;n instanceof HTMLAnchorElement&&(e.preventDefault(),t(n))}));const n=()=>{const t=e.find((e=>window.location.pathname.includes(e.path)));t?t.template():e[0].template()};window.addEventListener("popstate",n),window.addEventListener("DOMContentLoaded",n)})()})();